!function t(i,e,s){function n(a,r){if(!e[a]){if(!i[a]){var h="function"==typeof require&&require;if(!r&&h)return h(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=e[a]={exports:{}};i[a][0].call(u.exports,function(t){var e=i[a][1][t];return n(e?e:t)},u,u.exports,t,i,e,s)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}({1:[function(t,i,e){var s=[720,960,1200,1680],n=t("lib/getWindowSize"),o=function(){for(var t=n.width(),i=0;i<s.length;i++)if(s[i]>t)return i;return s.length};i.exports=o},{"lib/getWindowSize":5}],2:[function(t,i,e){var s={easeInOut:function(t,i,e){return.5>e?t+i*(2*e*e):t+i*(-2*(e-1)*(e-1)+1)},easeIn:function(t,i,e){return t+i*e*e},easeInCubic:function(t,i,e){return t+i*(e*e*e)},easeOut:function(t,i,e){return t+i*(-1*(e-1)*(e-1)+1)},easeOutCubic:function(t,i,e){return t+i*((e-1)*(e-1)*(e-1)+1)},linear:function(t,i,e){return t+i*e}};i.exports=s},{}],3:[function(t,i,e){i.exports=function(t){for(var i=t.offsetLeft,e=t.offsetTop;t=t.offsetParent;)i+=t.offsetLeft,e+=t.offsetTop;return{left:i,top:e}}},{}],4:[function(t,i,e){i.exports=function(t){return window.scrollY!==t?function(){return window.scrollY}:function(){return document.documentElement.scrollTop}}()},{}],5:[function(t,i,e){var s=function(){return window.innerHeight||document.documentElement.clientHeight},n=function(){return window.innerWidth||document.documentElement.clientWidth};i.exports={width:n,height:s}},{}],6:[function(t,i,e){window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()),function(e,s,n){function o(){if(r){var t=(new Date).getTime(),i=a();e.body.offsetWidth===h&&e.body.offsetHeight===c||(h=e.body.offsetWidth,c=e.body.offsetHeight,y&&s.clearTimeout(y),y=s.setTimeout(function(){x("resize",t)},f)),u!==i&&(u=i,x("scroll",t)),x("tick",t),l=t,requestAnimationFrame(o)}}var a=t("lib/getScrollPos"),r=!0,h=e.body.offsetWidth,c=e.body.offsetHeight,u=-1,l=(new Date).getTime(),f=500,g={resize:[],scroll:[],tick:[]},d=function(t,i){return-1===g[t].indexOf(i)?(g[t].push(i),b(),!0):!1},m=function(t){return d("scroll",t)},v=function(t){return d("resize",t)},p=function(t){return d("tick",t)},w=function(t){for(var i=["resize","scroll","tick"],e=!1,s=0;s<i.length;s++){var n=g[i[s]].indexOf(t);if(-1!==n){g[i[s]].splice(n,1),e=!0;break}}for(var s=0;s<i.length&&!g[i[s]].length;s++)s===i.length-1&&R();return e},x=function(t,i){for(var e=0,n=g[t].length;n>e;e++)g[t][e]&&g[t][e].call(s,i)},b=function(){r=!0,o()},R=function(){r=!1},S=function(){h=-1,u=-1},y=null;i.exports={addScrollFunction:m,addResizeFunction:v,addFunction:p,removeFunction:w,start:b,stop:R,force:S}}(document,window)},{"lib/getScrollPos":4}],7:[function(t,i,e){var s=t("lib/getPageOffset"),n=t("lib/getWindowSize"),o=t("lib/getScrollPos"),a=t("lib/loop"),r=function h(t,i){if(!this instanceof h)return new h(t);var e=this;this.element=t,this.measure(),i&&i(e.getPercentage()),this.onResize=function(){e.measure()},i&&(this.onScroll=function(){i(e.getPercentage())}),this.init()};r.prototype={measure:function(){var t=s(this.element);this.top=t.top-n.height(),this.bottom=t.top+this.element.offsetHeight,this.height=this.bottom-this.top},getPercentage:function(){var t=o(),i=(t-this.top)/this.height;return i},init:function(){a.addResizeFunction(this.onResize),this.onScroll&&a.addScrollFunction(this.onScroll)},destroy:function(){a.removeFunction(this.onResize),this.onScroll&&a.removeFunction(this.onScroll)}},i.exports=r},{"lib/getPageOffset":3,"lib/getScrollPos":4,"lib/getWindowSize":5,"lib/loop":6}],8:[function(t,i,e){var s=["transform","webkitTransform","mozTransform","msTransform"],n=function(t,i){for(var e=0,n=s.length;n>e;e++)t.style[s[e]]=i};i.exports=n},{}],9:[function(t,i,e){var s=t("objects/halftone"),n={fade:12},o={fade:0,imageSizing:"contain",inEaseStart:.1,inEaseEnd:.5,cornering:4},a=function(t){this.element=t;var i=t.querySelector(".article__header");i&&(this.header=new s(i,n));var e=t.querySelectorAll(".halftone");this.halftones=[];for(var a=0,r=e.length;r>a;a++)this.halftones.push(new s(e[a],o))};window.article=new a(document.querySelector(".article"))},{"objects/halftone":10}],10:[function(t,i,e){var s=t("lib/ease"),n=t("lib/scrollController"),o=t("lib/setTransform"),a=t("lib/getWindowSize"),r=t("lib/breakpoints"),h=t("lib/loop"),c={fade:4,maxRadius:15,inEaseFn:s.easeOut,inEaseStart:.2,inEaseEnd:.8,outEaseFn:s.linear,outEaseStart:.6,outEaseEnd:1.4,fixed:!1,imageSizing:"cover",cornering:0},u=function(t,i,e,n){this.gridX=t,this.gridY=i,this.maxRadius=e,this.radius=e,this.parent=n,this.percentage=(this.gridX+this.gridY)/(this.parent.columns+this.parent.rows),this.x=this.gridX*this.parent.settings.maxRadius,this.y=this.gridY*this.parent.settings.maxRadius,this.parent.settings.fade&&(this.y+=this.parent.settings.maxRadius),this.parent.settings.cornering&&this.gridX+this.gridY<=this.parent.settings.cornering+1?(this.maxRadius=s.linear(.33,.66,(this.gridX+this.gridY)/(this.parent.settings.cornering+1))*this.maxRadius,this.radius=this.maxRadius):this.parent.settings.cornering&&-1*(this.gridX+this.gridY-(this.parent.columns+this.parent.rows-2))<=this.parent.settings.cornering+1&&(this.maxRadius=s.linear(.33,.66,-1*(this.gridX+this.gridY-(this.parent.columns+this.parent.rows-2))/(this.parent.settings.cornering+1))*this.maxRadius,this.radius=this.maxRadius)};u.prototype={draw:function(t){t.moveTo(this.x,this.y-this.radius),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!1)},setRadiusByPercentage:function(t){this.radius=Math.max(0,Math.min(this.maxRadius,t*this.maxRadius))}};var l=function(t,i){this.element=t,this.settings={},i=i||{};for(var e in c)this.settings[e]=void 0!==i[e]?i[e]:c[e];var s=getComputedStyle(this.element);"static"===s.position&&(this.element.style.position="relative"),this.fill=s.backgroundColor,s.backgroundImage&&"none"!==s.backgroundImage&&(this.image=new Image,this.image.src=s.backgroundImage.match(/\((?:'|")?(.+?)(?:'|")?\)/)[1]),this.element.style.background="none";var n=this;this.onResize=function(){n.createCanvas()},this.onScroll=function(t){n.draw(t)},this.init()};l.prototype={draw:function(t){if(!this.canvas)return!1;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.save(),this.ctx.beginPath();var i=(t-this.settings.inEaseStart)/(this.settings.inEaseEnd-this.settings.inEaseStart);i=1>i?this.settings.inEaseFn(-1,3,i):2;var e=(t-this.settings.outEaseStart)/(this.settings.outEaseEnd-this.settings.outEaseStart);e=e>0?this.settings.outEaseFn(2,-3,e):2;for(var s=0,n=this.dots.length;n>s;s++){var o=i-this.dots[s].percentage,a=e-(1-this.dots[s].percentage);this.dots[s].setRadiusByPercentage(Math.min(o,a)),this.dots[s].draw(this.ctx)}this.ctx.fill(),this.image&&this.imageOffsets&&(this.ctx.globalCompositeOperation="source-atop",this.ctx.drawImage(this.image,this.imageOffsets.x,this.imageOffsets.y,this.imageOffsets.width,this.imageOffsets.height)),this.ctx.restore()},createCanvas:function(){if(this.canvas&&this.canvas.remove(),this.canvas=document.createElement("canvas"),this.canvas.setAttribute("class","canvas-halftone"),!this.settings.fixed||r()<3){var t=Math.floor(this.element.offsetWidth/this.settings.maxRadius),i=Math.floor(this.element.offsetHeight/this.settings.maxRadius);this.settings.fade?(t+=2,i+=2*this.settings.fade+2):(t%2===0&&(t+=1),i%2===0&&(i+=1))}else{var t=Math.floor(a.width()/this.settings.maxRadius)+2,i=Math.floor(a.height()/this.settings.maxRadius)+2*this.settings.fade+2;o(this.element,"none"),o(this.canvas,"none"),this.canvas.style.position="fixed",this.canvas.style.top=this.settings.fade*this.settings.maxRadius*-1+"px",this.canvas.style.left=0}this.canvas.width=(t-1)*this.settings.maxRadius,this.canvas.height=(this.settings.fade?i+1:i-1)*this.settings.maxRadius,this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle=this.fill,this.columns=t,this.rows=i,this.dots=[];for(var e=0;i>e;e++)for(var s=0;t>s;s+=2){var h;if(e<this.settings.fade)h=(e+1)/(this.settings.fade+1)*this.settings.maxRadius;else if(e>=i-this.settings.fade)h=-1*(e+1-i)/(this.settings.fade+1)*this.settings.maxRadius;else{if(!this.settings.fade&&0===e&&0===s&&!this.settings.fixed)continue;if(!this.settings.fade&&0===e&&s===t-1&&!this.settings.fixed)continue;if(!this.settings.fade&&e===i-1&&0===s&&!this.settings.fixed)continue;if(!this.settings.fade&&e===i-1&&s===t-1&&!this.settings.fixed)continue;h=this.settings.maxRadius}this.dots.push(new u(e%2?s+1:s,e,h,this))}if(this.element.appendChild(this.canvas),this.image)if(this.image.complete)this.sizeImage();else{var c=this;this.image.onload=function(){c.sizeImage(),c.draw(r()>=3?c.scrollController.getPercentage():.45)}}r()>=3?this.scrollController=new n(this.element,this.onScroll):this.draw(.45)},sizeImage:function(){var t=this.canvas.width/this.image.width;"cover"===this.settings.imageSizing&&t*this.image.height<this.canvas.height?t=this.canvas.height/this.image.height:"contain"===this.settings.imageSizing&&t*this.image.height>this.canvas.height&&(t=this.canvas.height/this.image.height),this.imageOffsets={x:(this.canvas.width-this.image.width*t)/2,y:(this.canvas.height-this.image.height*t)/2,width:this.image.width*t,height:this.image.height*t}},getPercentageFromScroll:function(){return this.scrollController.getPercentage()},init:function(){this.createCanvas(),h.addResizeFunction(this.onResize)},destroy:function(){this.scrollController&&this.scrollController.destroy(),h.removeFunction(this.onResize),this.canvas.remove(),delete this}},i.exports=l},{"lib/breakpoints":1,"lib/ease":2,"lib/getWindowSize":5,"lib/loop":6,"lib/scrollController":7,"lib/setTransform":8}],11:[function(t,i,e){t("objects/article")},{"objects/article":9}]},{},[11]);
//# sourceMappingURL=scripts.min.js.map
