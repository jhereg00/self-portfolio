!function t(e,i,s){function n(a,r){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!r&&h)return h(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){var i=e[a][1][t];return n(i?i:t)},c,c.exports,t,e,i,s)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}({1:[function(t,e,i){var s,n,o,a,r=t("lib/loop"),h=t("lib/getPageOffset"),l=t("lib/getScrollPos"),c=t("lib/ease"),u=48,d=1e3,g=function(){var t=(new Date).getTime();s>t-n?window.scrollTo(0,c.easeInOut(o,a-o,(t-n)/s)):(window.scrollTo(0,a),r.removeFunction(g))},f=function(t,e,i,c,f){if("string"==typeof t&&(t=document.getElementById(t.replace("#",""))),"number"!=typeof t)try{t=h(t).top-(isNaN(f)?u:f)}catch(m){return!1}return r.removeFunction(g),i!==!1?(o=e||l(),a=t,n=(new Date).getTime(),s=c||d,r.addFunction(g)):window.scrollTo(0,t),!0};e.exports=f},{"lib/ease":3,"lib/getPageOffset":4,"lib/getScrollPos":5,"lib/loop":7}],2:[function(t,e,i){var s=[720,960,1200,1680],n=t("lib/getWindowSize"),o=function(){for(var t=n.width(),e=0;e<s.length;e++)if(s[e]>t)return e;return s.length};e.exports=o},{"lib/getWindowSize":6}],3:[function(t,e,i){var s={easeInOut:function(t,e,i){return.5>i?t+e*(2*i*i):t+e*(-2*(i-1)*(i-1)+1)},easeIn:function(t,e,i){return t+e*i*i},easeInCubic:function(t,e,i){return t+e*(i*i*i)},easeOut:function(t,e,i){return t+e*(-1*(i-1)*(i-1)+1)},easeOutCubic:function(t,e,i){return t+e*((i-1)*(i-1)*(i-1)+1)},linear:function(t,e,i){return t+e*i}};e.exports=s},{}],4:[function(t,e,i){e.exports=function(t){for(var e=t.offsetLeft,i=t.offsetTop;t=t.offsetParent;)e+=t.offsetLeft,i+=t.offsetTop;return{left:e,top:i}}},{}],5:[function(t,e,i){e.exports=function(t){return window.scrollY!==t?function(){return window.scrollY}:function(){return document.documentElement.scrollTop}}()},{}],6:[function(t,e,i){var s=function(){return window.innerHeight||document.documentElement.clientHeight},n=function(){return window.innerWidth||document.documentElement.clientWidth};e.exports={width:n,height:s}},{}],7:[function(t,e,i){window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()),function(i,s,n){function o(){if(r){var t=(new Date).getTime(),e=a();i.body.offsetWidth===h&&i.body.offsetHeight===l||(h=i.body.offsetWidth,l=i.body.offsetHeight,E&&s.clearTimeout(E),E=s.setTimeout(function(){b("resize",t)},d)),c!==e&&(c=e,b("scroll",t)),b("tick",t),u=t,requestAnimationFrame(o)}}var a=t("lib/getScrollPos"),r=!0,h=i.body.offsetWidth,l=i.body.offsetHeight,c=-1,u=(new Date).getTime(),d=500,g={resize:[],scroll:[],tick:[]},f=function(t,e){return-1===g[t].indexOf(e)?(g[t].push(e),S(),!0):!1},m=function(t){return f("scroll",t)},v=function(t){return f("resize",t)},w=function(t){return f("tick",t)},p=function(t){for(var e=["resize","scroll","tick"],i=!1,s=0;s<e.length;s++){var n=g[e[s]].indexOf(t);if(-1!==n){g[e[s]].splice(n,1),i=!0;break}}for(var s=0;s<e.length&&!g[e[s]].length;s++)s===e.length-1&&x();return i},b=function(t,e){for(var i=0,n=g[t].length;n>i;i++)g[t][i]&&g[t][i].call(s,e)},S=function(){r=!0,o()},x=function(){r=!1},y=function(){h=-1,c=-1},E=null;e.exports={addScrollFunction:m,addResizeFunction:v,addFunction:w,removeFunction:p,start:S,stop:x,force:y}}(document,window)},{"lib/getScrollPos":5}],8:[function(t,e,i){var s=t("lib/getPageOffset"),n=t("lib/getWindowSize"),o=t("lib/getScrollPos"),a=t("lib/loop"),r=function h(t,e){if(!this instanceof h)return new h(t);var i=this;this.element=t,this.measure(),e&&e(i.getPercentage()),this.onResize=function(){i.measure()},e&&(this.onScroll=function(){e.apply(i,[i.getPercentage()])}),this.enable()};r.prototype={measure:function(){var t=s(this.element);this.top=t.top-n.height(),this.bottom=t.top+this.element.offsetHeight,this.height=this.bottom-this.top},getPercentage:function(){var t=o(),e=(t-this.top)/this.height;return e},disable:function(){a.removeFunction(this.onResize),this.onScroll&&a.removeFunction(this.onScroll)},enable:function(){a.addResizeFunction(this.onResize),this.onScroll&&a.addScrollFunction(this.onScroll)},destroy:function(){this.disable(),delete this}},e.exports=r},{"lib/getPageOffset":4,"lib/getScrollPos":5,"lib/getWindowSize":6,"lib/loop":7}],9:[function(t,e,i){var s=["transform","webkitTransform","mozTransform","msTransform"],n=function(t,e){for(var i=0,n=s.length;n>i;i++)t.style[s[i]]=e};e.exports=n},{}],10:[function(t,e,i){var s=t("objects/halftone"),n=t("lib/scrollController"),o=t("lib/getScrollPos"),a=t("lib/ease"),r={fade:12,maxRadius:20},h={fade:0,imageSizing:"contain",inEaseStart:.1,inEaseEnd:.5,outEaseStart:.75,cornering:8},l={fade:0,inEaseStart:-.4,inEaseEnd:.8,inEaseFn:a.linear,outEaseStart:.6,outEaseEnd:1.2},c=function(t){this.element=t;var e=t.querySelector(".article__header");e&&(this.header=new s(e,r));var i=t.querySelectorAll(".halftone");this.halftones=[];for(var o=0,a=i.length;a>o;o++){var c=new s(i[o],h);this.halftones.push(c)}var u=t.querySelector(".relateds");u&&this.halftones.push(new s(u,l));this.scrollController=new n(this.element)};c.prototype={destroy:function(t){function e(){window.scrollTo(0,i)}var i=o()-this.element.offsetHeight;this.header&&this.header.destroy();for(var s=0,n=this.halftones.length;n>s;s++)this.halftones[s].destroy();if(this.scrollController.destroy(),t){e(),requestAnimationFrame(e)}this.element.remove()}};var u=document.querySelector(".article");u&&new c(document.querySelector(".article"))},{"lib/ease":3,"lib/getScrollPos":5,"lib/scrollController":8,"objects/halftone":12}],11:[function(t,e,i){var s=t("objects/halftone"),n=t("lib/ease"),o=document.querySelector(".footer-main__halftone");if(o){new s(o,{fade:12,maxRadius:20,inEaseStart:-.25,inEaseEnd:.1,inEaseFn:n.linear,outEaseStart:1,outEaseEnd:1})}},{"lib/ease":3,"objects/halftone":12}],12:[function(t,e,i){var s=t("lib/ease"),n=t("lib/scrollController"),o=t("lib/setTransform"),a=t("lib/getWindowSize"),r=t("lib/breakpoints"),h=t("lib/loop"),l={fade:4,maxRadius:12,inEaseFn:s.easeOut,inEaseStart:.2,inEaseEnd:.8,outEaseFn:s.linear,outEaseStart:.6,outEaseEnd:1.1,fixed:!1,imageSizing:"cover",cornering:0,control:"scroll",fill:null,initialDrawPercentage:.55},c=2,u=function(t,e,i,n){this.gridX=t,this.gridY=e,this.maxRadius=i,this.radius=i,this.parent=n,this.percentage=(this.gridX+this.gridY)/(this.parent.columns+this.parent.rows),this.x=this.gridX*this.parent.settings.maxRadius,this.y=this.gridY*this.parent.settings.maxRadius,this.parent.settings.fade&&(this.y+=this.parent.settings.maxRadius),this.parent.settings.cornering&&this.gridX+this.gridY<=this.parent.settings.cornering+1?(this.maxRadius=s.linear(.33,.66,(this.gridX+this.gridY)/(this.parent.settings.cornering+1))*this.maxRadius,this.radius=this.maxRadius):this.parent.settings.cornering&&-1*(this.gridX+this.gridY-(this.parent.columns+this.parent.rows-2))<=this.parent.settings.cornering+1&&(this.maxRadius=s.linear(.33,.66,-1*(this.gridX+this.gridY-(this.parent.columns+this.parent.rows-2))/(this.parent.settings.cornering+1))*this.maxRadius,this.radius=this.maxRadius)};u.prototype={draw:function(t){t.moveTo(this.x,this.y-this.radius),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!1)},setRadiusByPercentage:function(t){this.radius=Math.max(0,Math.min(this.maxRadius,t*this.maxRadius))}};var d=function(t,e,i){var s=this;this.element=t,this.settings={},e=e||{};for(var n in l)this.settings[n]=void 0!==e[n]?e[n]:l[n];i&&(this.dotSizeImage=new Image,this.dotSizeImage.src=i,this.dotSizeImage.onload=function(){s.sizeDotsByImage(),s.lastDrawnPercentage=null,s.draw(s.getPercentageFromScroll())});var o=getComputedStyle(this.element);"static"===o.position&&(this.element.style.position="relative"),this.fill=this.settings.fill||o.backgroundColor,o.backgroundImage&&"none"!==o.backgroundImage&&(this.image=new Image,this.image.src=o.backgroundImage.match(/\((?:'|")?(.+?)(?:'|")?\)/)[1]),this.settings.fill||(this.element.style.background="none"),this.onResize=function(){s.createCanvas()},this.onScroll=function(t){s.draw(t)},this.init()};d.prototype={draw:function(t){if(t=Math.round(1e3*t)/1e3,t!=this.lastDrawnPercentage){if(!this.canvas||t<this.settings.inEaseStart||t>this.settings.outEaseEnd)return!1;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.save(),this.ctx.beginPath();var e=(t-this.settings.inEaseStart)/(this.settings.inEaseEnd-this.settings.inEaseStart);e=1>e?this.settings.inEaseFn(-1,3,e):2;var i=(t-this.settings.outEaseStart)/(this.settings.outEaseEnd-this.settings.outEaseStart);i=i>0?this.settings.outEaseFn(2,-3,i):2;for(var s=0,n=this.dots.length;n>s;s++)if(this.dots[s].maxRadius>.5){var o=e-this.dots[s].percentage,a=i-(1-this.dots[s].percentage);this.dots[s].setRadiusByPercentage(Math.min(o,a)),this.dots[s].draw(this.ctx)}this.ctx.fill(),this.image&&this.imageOffsets&&(this.ctx.globalCompositeOperation="source-atop",this.ctx.drawImage(this.image,this.imageOffsets.x,this.imageOffsets.y,this.imageOffsets.width,this.imageOffsets.height)),this.ctx.restore(),this.lastDrawnPercentage=t}},createCanvas:function(){if(this.canvas&&this.canvas.remove(),this.rendered={},this.canvas=document.createElement("canvas"),this.canvas.setAttribute("class","canvas-halftone"),!this.settings.fixed||r()<c){var t=Math.floor(this.element.offsetWidth/this.settings.maxRadius),e=Math.floor(this.element.offsetHeight/this.settings.maxRadius);this.settings.fade?(t+=2,e+=2*this.settings.fade+2):(t%2===0&&(t+=1),e%2===0&&(e+=1))}else{var t=Math.floor(a.width()/this.settings.maxRadius)+2,e=Math.floor(a.height()/this.settings.maxRadius)+2*this.settings.fade+2;o(this.element,"none"),o(this.canvas,"none"),this.canvas.style.position="fixed",this.canvas.style.top=this.settings.fade*this.settings.maxRadius*-1+"px",this.canvas.style.left=0}this.canvas.width=(t-1)*this.settings.maxRadius,this.canvas.height=(this.settings.fade?e+1:e-1)*this.settings.maxRadius,this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle=this.fill,this.columns=t,this.rows=e,this.dots=[];for(var i=0;e>i;i++)for(var s=0;t>s;s+=2){var h;if(i<this.settings.fade)h=(i+1)/(this.settings.fade+1)*this.settings.maxRadius;else if(i>=e-this.settings.fade)h=-1*(i+1-e)/(this.settings.fade+1)*this.settings.maxRadius;else{if(!this.settings.fade&&0===i&&0===s&&!this.settings.fixed)continue;if(!this.settings.fade&&0===i&&s===t-1&&!this.settings.fixed)continue;if(!this.settings.fade&&i===e-1&&0===s&&!this.settings.fixed)continue;if(!this.settings.fade&&i===e-1&&s===t-1&&!this.settings.fixed)continue;h=this.settings.maxRadius}this.dots.push(new u(i%2?s+1:s,i,h,this))}if(this.element.children.length?this.element.insertBefore(this.canvas,this.element.children[0]):this.element.appendChild(this.canvas),this.image)if(this.image.complete)this.sizeImage();else{var l=this;this.image.onload=function(){l.imageOffsets=l.sizeImage(l.image),l.lastDrawnPercentage=null,l.draw(l.getPercentageFromScroll())}}this.dotSizeImage&&this.dotSizeImage.complete&&this.sizeDotsByImage(),r()>=c&&"scroll"===this.settings.control?this.scrollController=new n(this.element,this.onScroll):(this.scrollController&&(this.scrollController.destroy(),this.scrollController=null),this.draw(this.getPercentageFromScroll()))},sizeImage:function(t){if(!t||!t.width||!t.height)return!1;var e=this.canvas.width/t.width;return"cover"===this.settings.imageSizing&&e*t.height<this.canvas.height?e=this.canvas.height/t.height:"contain"===this.settings.imageSizing&&e*t.height>this.canvas.height&&(e=this.canvas.height/t.height),{x:(this.canvas.width-t.width*e)/2,y:(this.canvas.height-t.height*e)/2,width:t.width*e,height:t.height*e}},sizeDotsByImage:function(){var t=this.sizeImage(this.dotSizeImage);if(t){var e=document.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height;var i=e.getContext("2d");i.fillStyle="white",i.fillRect(0,0,e.width,e.height),i.drawImage(this.dotSizeImage,t.x,t.y,t.width,t.height);for(var s=this.dots.length-1;s>=0;s--){for(var n=i.getImageData(this.dots[s].x-this.settings.maxRadius,this.dots[s].y-this.settings.maxRadius,2*this.settings.maxRadius,2*this.settings.maxRadius),o=0,a=0,r=n.data.length;r>a;a+=4){var h=(255-n.data[a])*((255-n.data[a+3])/255);o+=n.data[a]+h}o/=n.data.length/4,this.dots[s].maxRadius=this.dots[s].maxRadius*((255-o)/255),this.dots[s].maxRadius<.5&&this.dots.splice(s,1)}}},getPercentageFromScroll:function(){return this.scrollController?this.scrollController.getPercentage():this.settings.initialDrawPercentage},init:function(){this.createCanvas(),h.addResizeFunction(this.onResize)},destroy:function(){this.scrollController&&this.scrollController.destroy(),h.removeFunction(this.onResize),this.canvas.remove(),delete this},anim:function(t,e,i,n,o){this.scrollController&&this.scrollController.disable(),t=t||0,e=isNaN(e)?1:e,i=i||1e3,n=n||s.easeInOut;var a=(new Date).getTime(),r=e-t,l=this,c=!0,u=function(){if(c){var s=(new Date).getTime(),d=(s-a)/i;1>d?l.draw(n(t,r,d)):(c=!1,l.draw(e),l.scrollController&&l.scrollController.enable(),h.removeFunction(u),o&&o())}};h.addFunction(u)},animIn:function(t,e){var i=this.getPercentageFromScroll();return i<this.settings.inEaseStart?!1:void this.anim(this.settings.inEaseStart,i,t,s.easeOut,e)},animOut:function(t,e){var i=this.getPercentageFromScroll();return i<this.settings.inEaseStart?!1:void this.anim(i,this.settings.inEaseStart,t,s.easeIn,e)}},e.exports=d},{"lib/breakpoints":2,"lib/ease":3,"lib/getWindowSize":6,"lib/loop":7,"lib/scrollController":8,"lib/setTransform":9}],13:[function(t,e,i){for(var s=t("objects/halftone"),n=t("lib/ease"),o=(t("lib/getWindowSize"),{inEaseFn:n.easeOut,inEaseStart:-.1,inEaseEnd:.5,outEaseFn:n.easeIn,outEaseStart:.5,outEaseEnd:1.1,fade:1,fill:"#011C1F",maxRadius:9,control:"none",initialDrawPercentage:0}),a=1e4,r=function(t){function e(){i=(i+1)%r.halftones.length,r.halftones[i].anim(0,1,a,n.linear)}this.element=t,this.halftones=[],this.halftones.push(new s(t,o,"/images/dotSizeImageTest.jpg")),this.halftones.push(new s(t,o,"/images/dotSizeImageTest2.jpg")),this.halftones.push(new s(t,o,"/images/dotSizeImageTest3.jpg"));var i=-1,r=this;e(),window.setInterval(e,.8*a)},h=document.querySelectorAll(".my-titles"),l=0,c=h.length;c>l;l++)new r(h[l])},{"lib/ease":3,"lib/getWindowSize":6,"objects/halftone":12}],14:[function(t,e,i){var s=t("lib/getScrollPos"),n=t("lib/animateScrollTo"),o=document.querySelector(".header-main"),a=document.body.getAttribute("data-page-type");a&&"index"!==a&&o&&(window.setTimeout(function(){s()<50&&n(o,null,null,600,0)},window.sessionStorage.getItem("seenNav")?100:600),window.sessionStorage.setItem("seenNav",!0))},{"lib/animateScrollTo":1,"lib/getScrollPos":5}],15:[function(t,e,i){t("objects/scrollOnLoad"),t("objects/article"),t("objects/footer"),t("objects/myTitles")},{"objects/article":10,"objects/footer":11,"objects/myTitles":13,"objects/scrollOnLoad":14}]},{},[15]);
//# sourceMappingURL=scripts.min.js.map
