{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","data/classConfigs.ts","scripts.ts","ui/AnimatingCanvasAbstract.ts","ui/ClassCard.ts","ui/ClassCardFrameCanvas.ts","ui/ClassSelectScreen.ts","ui/CloudedCanvas.ts","utils/AnimatedValue.ts","utils/createElement.ts","utils/deepExtend.ts","utils/easing/CubicBezier.ts","utils/tileCanvasImage.ts"],"names":[],"mappings":"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","file":"scripts.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export default [\r\n    {\r\n        name: 'Soldier',\r\n        portraitUrl: 'images/class-select-portrait-soldier.png',\r\n        items: ['Badass Rifle', 'Potent AF Potion']\r\n    },\r\n    {\r\n        name: 'Explorer',\r\n        portraitUrl: 'images/class-select-portrait-explorer.png',\r\n        items: ['Hunting Axe', 'Monocular']\r\n    },\r\n    {\r\n        name: 'Adventurer',\r\n        portraitUrl: 'images/class-select-portrait-adventurer.png',\r\n        items: ['Wooden Club', 'Advanced Map']\r\n    },\r\n    {\r\n        name: 'Expatriate',\r\n        portraitUrl: 'images/class-select-portrait-expatriate.png',\r\n        items: ['Silver Sword', 'Strength Potion']\r\n    },\r\n    {\r\n        name: 'Stowaway',\r\n        portraitUrl: 'images/class-select-portrait-stowaway.png',\r\n        items: ['Rogue\\'s Knife', 'Cooked Steak']\r\n    }\r\n]","/**\r\n *  scripts.js\r\n *  This should include objects, which in turn include the lib files they need.\r\n *  This keeps us using a modular approach to dev while also only including the\r\n *  parts of the library we need.\r\n */\r\nimport ClassSelectScreen from './ui/ClassSelectScreen';\r\nimport classConfigs from './data/classConfigs';\r\n\r\nconst classSelectScreenEl = document.getElementById('classSelectScreen');\r\nconst classSelectScreen = new ClassSelectScreen(classSelectScreenEl, classConfigs);\r\nclassSelectScreen.show();","import createElement from '../utils/createElement';\r\n\r\nclass AnimatingCanvasAbstract {\r\n    public canvas: HTMLCanvasElement;\r\n    public ctx: CanvasRenderingContext2D;\r\n    private running: boolean;\r\n    private animStartTime: number;\r\n\r\n    constructor() {\r\n        this._initCanvas();\r\n    }\r\n    \r\n    _initCanvas() {\r\n        this.canvas = <HTMLCanvasElement>createElement('canvas');\r\n        this.ctx = this.canvas.getContext('2d');\r\n    }\r\n\r\n    draw(time) {}\r\n    \r\n    clear() {\r\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n\r\n    start() {\r\n        if (this.running) {\r\n            return;\r\n        }\r\n\r\n        this.running = true;\r\n        this.animStartTime = new Date().getTime();\r\n        // bind to `this` so we can reuse it in other scopes, like the window's requestAnimationFrame\r\n        this.loop = this.loop.bind(this);\r\n        this.loop();\r\n    }\r\n\r\n    stop() {\r\n        this.running = false;\r\n    }\r\n\r\n    loop() {\r\n        if (this.running) {\r\n            this.draw(new Date().getTime() - this.animStartTime);\r\n            requestAnimationFrame(this.loop);\r\n        }\r\n    }\r\n}\r\n\r\nexport default AnimatingCanvasAbstract;","import createElement from '../utils/createElement';\r\nimport CloudedCanvas from './CloudedCanvas';\r\nimport ClassCardFrameCanvas from './ClassCardFrameCanvas';\r\n\r\ninterface IClassCardConfig {\r\n    portraitUrl: string,\r\n    name: string,\r\n    items: string[],\r\n    shifted?: boolean,\r\n}\r\n\r\nconst ITEM_COUNT = 2;\r\nconst MISSING_ITEM_MSG = 'Nothing.<br>Absolutely Nothing';\r\nconst FLICKER_MIN_DELAY = 200;\r\nconst FLICKER_MAX_DELAY = 1000;\r\nconst FLICKER_RETURN_DELAY = 160;\r\nconst FLICKER_NO_TRIPLE_THRESHOLD = 400;\r\nconst ACTIVE_CANVAS_IMAGE = 'images/class-select-frame-active-extras.png';\r\nconst ACTIVE_CANVAS_STOP_DELAY = 500;\r\n\r\nclass ClassCard {\r\n    public element: HTMLElement;\r\n\r\n    private config: IClassCardConfig;\r\n    private htmlElements;\r\n    private shiftUnshiftTimeout;\r\n    private flickerTimeout;\r\n    private lastFlickerDelay;\r\n    private cloudedCanvas: CloudedCanvas;\r\n    private frame: ClassCardFrameCanvas;\r\n    private hovered: boolean;\r\n    private active: boolean;\r\n    private frameShowing: boolean;\r\n\r\n    constructor(options: IClassCardConfig) {\r\n        this.config = options;\r\n        this._buildElement();\r\n\r\n        // temp\r\n        this.element.addEventListener('click', () => {\r\n            this.setActive();\r\n        });\r\n        this.element.addEventListener('mouseenter', () => {\r\n            this.hovered = true;\r\n            this.highlight();\r\n        });\r\n        this.element.addEventListener('mouseleave', () => {\r\n            this.hovered = false;\r\n            this.unhighlight();\r\n        })\r\n    }\r\n\r\n    _buildElement() {\r\n        this.htmlElements = {\r\n            main: createElement('a', { className: 'class-card' + (this.config.shifted ? ' is-shifted' : '') }),\r\n            portraitBox: createElement('div', { className: 'class-card__portrait-box' }),\r\n            portrait: createElement('img', {\r\n                className: 'class-card__portrait',\r\n                src: this.config.portraitUrl\r\n            }),\r\n            name: createElement('div', { className: 'class-card__name' }),\r\n            nameSpan: createElement('span', { innerHTML: this.config.name }),\r\n            items: []\r\n        }\r\n\r\n        this.element = this.htmlElements.main;\r\n        // slap in greebles first\r\n        this.element.appendChild(createElement('img', { className: 'class-card__greeble class-card__greeble--tr', src: 'images/greeble-tr.png' }));\r\n        this.element.appendChild(createElement('img', { className: 'class-card__greeble class-card__greeble--bl1', src: 'images/greeble-bl.png' }));\r\n        this.element.appendChild(createElement('img', { className: 'class-card__greeble class-card__greeble--bl2', src: 'images/greeble-bl2.png' }));\r\n\r\n        this.element.appendChild(this.htmlElements.portraitBox);\r\n        this.htmlElements.portraitBox.appendChild(this.htmlElements.portrait);\r\n        this.element.appendChild(this.htmlElements.name);\r\n        this.htmlElements.name.appendChild(this.htmlElements.nameSpan);\r\n\r\n        // create the right number of items, regardless how many we're given\r\n        for (let i = 0; i < ITEM_COUNT; i++) {\r\n            const itemEl = createElement('div', { className: 'class-card__item' });\r\n            itemEl.appendChild(createElement('span', { innerHTML: this.config.items[i] || MISSING_ITEM_MSG }));\r\n            this.htmlElements.items.push(itemEl);\r\n            this.element.appendChild(itemEl);\r\n        }\r\n\r\n        // create the frame that highlights\r\n        this.frame = new ClassCardFrameCanvas();\r\n        this.element.appendChild(this.frame.canvas);\r\n    }\r\n\r\n    _clearShiftUnshiftTimeout() {\r\n        if (this.shiftUnshiftTimeout) {\r\n            window.clearTimeout(this.shiftUnshiftTimeout);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Shift the card out of its normal space.\r\n     *\r\n     * @param {number} [delay=0] - delay before shifting in ms\r\n     * @memberof ClassCard\r\n     */\r\n    shift(delay = 0) {\r\n        this._clearShiftUnshiftTimeout();\r\n\r\n        if (delay > 0) {\r\n            this.shiftUnshiftTimeout = window.setTimeout(() => {\r\n                this.element.classList.add('is-shifted');\r\n            }, delay);\r\n        } else {\r\n            this.element.classList.add('is-shifted');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Return a shifted card back to its normal space.\r\n     *\r\n     * @param {number} [delay=0] - delay before unshifting in ms\r\n     * @memberof ClassCard\r\n     */\r\n    unshift(delay = 0) {\r\n        this._clearShiftUnshiftTimeout();\r\n\r\n        if (delay > 0) {\r\n            this.shiftUnshiftTimeout = window.setTimeout(() => {\r\n                this.element.classList.remove('is-shifted');\r\n            }, delay);\r\n        } else {\r\n            this.element.classList.remove('is-shifted');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Show the bright frame to indicate hover or active.\r\n     *\r\n     * @returns\r\n     * @memberof ClassCard\r\n     */\r\n    highlight() {\r\n        if (this.frameShowing) {\r\n            return;\r\n        }\r\n\r\n        this.frame.canvas.style.transition = 'none';\r\n        this.frame.canvas.style.opacity = '1';\r\n        this.frame.start();\r\n        this.frameShowing = true;\r\n        // re-enable transitions on next frame\r\n        requestAnimationFrame(() => {\r\n            this.frame.canvas.style.transition = '';\r\n        });\r\n    }\r\n    /**\r\n     * Hide the bright frame.\r\n     *\r\n     * @returns\r\n     * @memberof ClassCard\r\n     */\r\n    unhighlight() {\r\n        if (this.hovered || this.active) {\r\n            return;\r\n        }\r\n\r\n        this.frame.canvas.style.opacity = '0';\r\n        this.frameShowing = false;\r\n    }\r\n\r\n    /**\r\n     * Sets the active state, also showing the frame and cloudedCanvas.\r\n     *\r\n     * @memberof ClassCard\r\n     */\r\n    setActive() {\r\n        // if we don't have a clouded canvas, make one now\r\n        if (!this.cloudedCanvas) {\r\n            this.cloudedCanvas = new CloudedCanvas({\r\n                imagePath: ACTIVE_CANVAS_IMAGE,\r\n                cloudSpeed: {\r\n                    x: 100,\r\n                    y: 100,\r\n                }\r\n            });\r\n            this.element.appendChild(this.cloudedCanvas.canvas);\r\n        }\r\n\r\n        this.element.classList.add('is-active');\r\n        this.cloudedCanvas.start();\r\n        this.active = true;\r\n        this.highlight();\r\n    }\r\n\r\n    /**\r\n     * Takes the card out of the active state. Also unhighlights if not hovered.\r\n     *\r\n     * @memberof ClassCard\r\n     */\r\n    setInactive() {\r\n        this.element.classList.remove('is-active');\r\n        this.active = false;\r\n        if (this.cloudedCanvas) {\r\n            window.setTimeout(() => {\r\n                this.cloudedCanvas.stop();\r\n                this.cloudedCanvas.clear();\r\n            }, ACTIVE_CANVAS_STOP_DELAY);\r\n        }\r\n        this.unhighlight();\r\n    }\r\n}\r\n\r\nexport default ClassCard;\r\nexport { IClassCardConfig };","import AnimatedValue from \"../utils/AnimatedValue\";\r\nimport CubicBezier from '../utils/easing/CubicBezier';\r\nimport AnimatingCanvasAbstract from \"./AnimatingCanvasAbstract\";\r\n\r\nconst REAL_TIME_PER_KEYFRAME_TIME = 33;\r\n\r\n// set up global frame image\r\nlet frameImageLoaded = false;\r\nconst FRAME_IMAGE = new Image();\r\nFRAME_IMAGE.addEventListener('load', () => {\r\n    frameImageLoaded = true;\r\n});\r\nFRAME_IMAGE.src = 'images/class-select-frame.png';\r\n\r\nconst EASE_OUT_BEZIER = new CubicBezier(.07, .24, .25, .98);\r\nconst EASE_OUT_BEZIER_SUBTLE = new CubicBezier(.14, .27, .57, .97);\r\nconst EASE_IN_OUT_BEZIER = new CubicBezier(.49, .12, .45, .98);\r\nconst LAST_KF_TIME = 14;\r\nconst SHAPES = [\r\n    {\r\n        // top bar\r\n        type: 'rectangle',\r\n        x: 0,\r\n        y: 0,\r\n        w: new AnimatedValue([\r\n            { time: 0, value: 0, ease: EASE_OUT_BEZIER.ease },\r\n            { time: 9, value: 346 },\r\n        ]),\r\n        h: 22\r\n    },\r\n    {\r\n        // left side\r\n        type: 'rectangle',\r\n        x: 0,\r\n        y: 0,\r\n        w: 28,\r\n        h: new AnimatedValue([\r\n            { time: 0, value: 0, ease: EASE_OUT_BEZIER.ease },\r\n            { time: 5, value: 732 }\r\n        ])\r\n    },\r\n    {\r\n        // above name\r\n        type: 'rectangle',\r\n        x: 0,\r\n        y: 550,\r\n        w: new AnimatedValue([\r\n            { time: 1, value: 0, ease: EASE_OUT_BEZIER_SUBTLE.ease },\r\n            { time: 9, value: 564 }\r\n        ]),\r\n        h: 27\r\n    },\r\n    {\r\n        // right side\r\n        type: 'rectangle',\r\n        x: 317,\r\n        y: new AnimatedValue([\r\n            { time: 0, value: 732, ease: EASE_IN_OUT_BEZIER.ease },\r\n            { time: 12, value: 0 }\r\n        ]),\r\n        w: 40,\r\n        h: 740,\r\n    },\r\n    {\r\n        // below name\r\n        type: 'rectangle',\r\n        x: 0,\r\n        y: 624,\r\n        w: new AnimatedValue([\r\n            { time: 2, value: 0, ease: EASE_OUT_BEZIER_SUBTLE.ease },\r\n            { time: 12, value: 564 }\r\n        ]),\r\n        h: 11,\r\n    },\r\n    {\r\n        // between items\r\n        type: 'rectangle',\r\n        x: 0,\r\n        y: 673,\r\n        w: new AnimatedValue([\r\n            { time: 2, value: 0, ease: EASE_OUT_BEZIER_SUBTLE.ease },\r\n            { time: 14, value: 564 }\r\n        ]),\r\n        h: 4,\r\n    },\r\n    {\r\n        // bottom\r\n        type: 'rectangle',\r\n        x: 0,\r\n        y: 713,\r\n        w: new AnimatedValue([\r\n            { time: 1, value: 0, ease: EASE_IN_OUT_BEZIER.ease },\r\n            { time: 13, value: 564 }\r\n        ]),\r\n        h: 50, // overkill to make sure bottom is filled\r\n    }\r\n]\r\n\r\nclass ClassCardFrameCanvas extends AnimatingCanvasAbstract {\r\n    public canvas: HTMLCanvasElement;\r\n    public ctx: CanvasRenderingContext2D;\r\n\r\n    private offscreenCanvas: HTMLCanvasElement;\r\n    private octx: CanvasRenderingContext2D;\r\n    \r\n    constructor() {\r\n        super();\r\n\r\n        this.offscreenCanvas = document.createElement('canvas');\r\n        this.octx = this.offscreenCanvas.getContext('2d');\r\n\r\n        this.canvas.classList.add('class-card__frame-canvas');\r\n        FRAME_IMAGE.addEventListener('load', () => {\r\n            this._sizeCanvas();\r\n        });\r\n    }\r\n\r\n    _sizeCanvas() {\r\n        const canWidth = FRAME_IMAGE.width;\r\n        const canHeight = FRAME_IMAGE.height;\r\n\r\n        this.canvas.width = canWidth;\r\n        this.canvas.height = canHeight;\r\n        this.offscreenCanvas.width = canWidth;\r\n        this.offscreenCanvas.height = canHeight;\r\n    }\r\n\r\n    draw(time) {\r\n        const kfTime = time / REAL_TIME_PER_KEYFRAME_TIME;\r\n        this.octx.clearRect(0, 0, this.offscreenCanvas.width, this.offscreenCanvas.height);\r\n        this.octx.fillStyle = '#FFFFFF';\r\n        SHAPES.forEach((shape) => {\r\n            if (shape.type === 'rectangle') {\r\n                this.octx.fillRect(\r\n                    getRealValue(shape.x, kfTime),\r\n                    getRealValue(shape.y, kfTime),\r\n                    getRealValue(shape.w, kfTime),\r\n                    getRealValue(shape.h, kfTime),\r\n                )\r\n            }\r\n        });\r\n\r\n        this.clear();\r\n        this.ctx.save();\r\n        this.ctx.drawImage(FRAME_IMAGE, 0, 0);\r\n        this.ctx.globalCompositeOperation = 'source-in';\r\n        this.ctx.drawImage(this.offscreenCanvas, 0, 0);\r\n        this.ctx.restore();\r\n\r\n        // save redraws\r\n        if (kfTime > LAST_KF_TIME) {\r\n            this.stop();\r\n        }\r\n    }\r\n}\r\n\r\n// quick helper\r\nfunction getRealValue(baseValue, time) {\r\n    if (baseValue instanceof AnimatedValue) {\r\n        return baseValue.getAtTime(time);\r\n    } else {\r\n        return baseValue;\r\n    }\r\n}\r\n\r\nexport default ClassCardFrameCanvas;","import { IClassCardConfig } from './ClassCard';\r\nimport ClassCard from './ClassCard';\r\n\r\nconst UNSHIFT_STAGGER_TIME = 33;\r\n\r\n// this is super minimal\r\n// using mostly as a controller for now\r\nclass ClassSelectScreen {\r\n    private activeIndex: number;\r\n    private classCards: ClassCard[];\r\n    public element: HTMLElement;\r\n\r\n    constructor(element: HTMLElement, classConfigs: IClassCardConfig[]) {\r\n        this.classCards = [];\r\n        classConfigs.forEach((c, index) => {\r\n            const card = new ClassCard(c);\r\n            card.shift();\r\n            this.classCards.push(card);\r\n            element.appendChild(card.element);\r\n            card.element.addEventListener('click', () => {\r\n                this.setActiveClass(index);\r\n            });\r\n        });\r\n\r\n        this.element = element;\r\n    }\r\n\r\n    setActiveClass(index) {\r\n        if (this.activeIndex === index) {\r\n            return;\r\n        }\r\n        \r\n        // clear current\r\n        if (this.activeIndex !== undefined) {\r\n            this.classCards[this.activeIndex].setInactive();\r\n        }\r\n        // set new\r\n        if (this.classCards[index]) {\r\n            this.classCards[index].setActive();\r\n            this.activeIndex = index;\r\n        }\r\n    }\r\n\r\n    show() {\r\n        this.element.classList.remove('is-hidden');\r\n        this.classCards.forEach((c, index) => {\r\n            c.unshift(index * UNSHIFT_STAGGER_TIME);\r\n        });\r\n    }\r\n}\r\n\r\nexport default ClassSelectScreen;","import deepExtend from '../utils/deepExtend';\r\nimport tileCanvasImage from '../utils/tileCanvasImage';\r\nimport AnimatingCanvasAbstract from './AnimatingCanvasAbstract';\r\n\r\n// set up global cloud image\r\nlet cloudImageLoaded = false;\r\nconst CLOUD_IMAGE = new Image();\r\nCLOUD_IMAGE.addEventListener('load', () => {\r\n    cloudImageLoaded = true;\r\n});\r\nCLOUD_IMAGE.src = 'images/clouds.png';\r\n\r\ninterface ICloudedCanvasConfig {\r\n    imagePath: string,\r\n    width?: number,\r\n    height?: number,\r\n    cloudSpeed?: {\r\n        x: number,\r\n        y: number,\r\n    }\r\n}\r\nconst DEFAULTS = {\r\n    imagePath: '',\r\n    cloudSpeed: {\r\n        x: 100,\r\n        y: 100,\r\n    }\r\n}\r\n\r\nclass CloudedCanvas extends AnimatingCanvasAbstract {\r\n    private image: HTMLImageElement;\r\n    private imageLoaded: boolean;\r\n    private config: ICloudedCanvasConfig;\r\n\r\n    constructor(options: ICloudedCanvasConfig) {\r\n        super();\r\n\r\n        this.config = <ICloudedCanvasConfig>deepExtend({}, DEFAULTS, options);\r\n\r\n        this._initImage();\r\n        this._sizeCanvas();\r\n        this.canvas.classList.add('clouded-canvas');\r\n    }\r\n\r\n    _initImage() {\r\n        this.image = new Image();\r\n        this.imageLoaded = false;\r\n        this.image.addEventListener('load', () => {\r\n            this.imageLoaded = true;\r\n            this._sizeCanvas();\r\n        });\r\n        this.image.src = this.config.imagePath;\r\n    }\r\n\r\n    _sizeCanvas() {\r\n        if (!this.config && !this.image) {\r\n            // not ready\r\n            return;\r\n        }\r\n\r\n        const canWidth = this.config && this.config.width || this.image.width;\r\n        const canHeight = this.config && this.config.height || this.image.height;\r\n\r\n        this.canvas.width = canWidth;\r\n        this.canvas.height = canHeight;\r\n    }\r\n\r\n    draw(time: number = 0) {\r\n        if (!this.imageLoaded || !cloudImageLoaded) {\r\n            // if we don't have the images, fail\r\n            return;\r\n        }\r\n\r\n        const timeInS = time / 1000;\r\n\r\n        this.clear();\r\n        // save context state\r\n        this.ctx.save();\r\n        // draw the clouds, tiled\r\n        tileCanvasImage(this.canvas, CLOUD_IMAGE, this.config.cloudSpeed.x * timeInS, this.config.cloudSpeed.y * timeInS);\r\n        // change mode to draw within destination\r\n        this.ctx.globalCompositeOperation = 'source-in';\r\n        // draw the real image\r\n        this.ctx.drawImage(this.image, 0, 0);\r\n        // return to last state\r\n        this.ctx.restore();\r\n    }\r\n}\r\n\r\nexport default CloudedCanvas;","interface IKeyframe {\r\n    time: number,\r\n    value: number,\r\n    ease?: (start: number, change: number, percentage: number) => number\r\n}\r\n\r\nclass AnimatedValue {\r\n    private keyframes: IKeyframe[];\r\n    private length: number;\r\n    private startBound: boolean;\r\n    private endBound: boolean;\r\n\r\n    constructor (keyframes: IKeyframe[], startBound: boolean = true, endBound: boolean = true) {\r\n        this.keyframes = keyframes;\r\n        this.length = keyframes[keyframes.length - 1].time;\r\n        this.startBound = startBound;\r\n        this.endBound = endBound;\r\n    }\r\n\r\n    getAtTime (time) {\r\n        // handle before if startBound and after if endBound\r\n        if (this.startBound && this.keyframes[0].time >= time) {\r\n            return this.keyframes[0].value;\r\n        } else if (this.endBound && this.keyframes[this.keyframes.length - 1].time <= time) {\r\n            return this.keyframes[this.keyframes.length - 1].value;\r\n        }\r\n\r\n        // time for maths\r\n        // kf measures the 'to' frame, so start at 1 instead of 0\r\n        let kf = 1;\r\n        // for loop that doesn't really do anything inside the loop. Just iterates until the condition is true\r\n        for (; kf < this.keyframes.length - 1 && time > this.keyframes[kf].time; kf++);\r\n        // determine easing method\r\n        if (typeof this.keyframes[kf - 1].ease === 'function') {\r\n            return this.keyframes[kf - 1].ease(\r\n                this.keyframes[kf - 1].value,\r\n                this.keyframes[kf].value - this.keyframes[kf - 1].value,\r\n                (time - this.keyframes[kf - 1].time) / (this.keyframes[kf].time - this.keyframes[kf - 1].time)\r\n            );\r\n        } else {\r\n            // no passed easing method, so linear it is\r\n            return (this.keyframes[kf - 1].value + (this.keyframes[kf].value - this.keyframes[kf - 1].value) * (time - this.keyframes[kf - 1].time) / (this.keyframes[kf].time - this.keyframes[kf - 1].time));\r\n        }\r\n    }\r\n}\r\n\r\nexport default AnimatedValue;","import deepExtend from '../utils/deepExtend';\r\n\r\n/**\r\n * Creates an element with the given properties.\r\n *\r\n * @export\r\n * @param {string} tagName\r\n * @param {object} [props={}]\r\n * @returns\r\n */\r\nexport default function createElement(tagName: string, props: object = {}): HTMLElement {\r\n    const el = document.createElement(tagName);\r\n    deepExtend(el, props);\r\n    return el;\r\n}","/**\r\n * Deeply extends an object with another. The first object is mutated.\r\n *\r\n * @param {Object} obj1\r\n * @param {Object} obj2\r\n * @returns\r\n */\r\nfunction deepExtendObject (obj1: object, obj2: object) {\r\n    for (let prop in obj2) {\r\n        if (typeof obj2[prop] === 'object') {\r\n            if (typeof obj1[prop] !== 'object') {\r\n                obj1[prop] = {};\r\n            }\r\n            // recursively apply object\r\n            deepExtend(obj1[prop], obj2[prop]);\r\n        } else {\r\n            obj1[prop] = obj2[prop];\r\n        }\r\n    }\r\n\r\n    return obj1;\r\n}\r\n\r\n/**\r\n * Deeply extends an object with a number of other objects.\r\n *\r\n * @export\r\n * @param {object} obj1\r\n * @param {object[]} additionalObjects\r\n * @returns\r\n */\r\nexport default function deepExtend (obj1: object, ...additionalObjects: object[]) {\r\n    additionalObjects.forEach((o) => {\r\n        deepExtendObject(obj1, o);\r\n    });\r\n    return obj1;\r\n}","class CubicBezier {\r\n    private points: number[];\r\n\r\n    constructor (x1: number, y1: number, x2: number, y2: number) {\r\n        this.points = [0, 0, x1, y1, x2, y2, 1, 1];\r\n        this.ease = this.ease.bind(this);\r\n    }\r\n\r\n    // this was mostly ripped/ported to ES6 from a method I figured out years ago. I don't remember how it actually works.\r\n    ease (start: number, change: number, percentage: number) {\r\n        // first, figure out y percentage - which we use for the output - from x percentage - which is the input\r\n        let possibleResults = [];\r\n\r\n        // let's find `t` where:\r\n        // x = (1-t)^3 * X0 + 3*(1-t)^2 * t * X1 + 3*(1-t) * t^2 * X2 + t^3 * X3\r\n        // thus a series of formulas can be used to derive `t` by solving a cubic equation\r\n        //\r\n        // some of this hurts my brain, but these were derived from:\r\n        //   simplify the cubic equation:\r\n        //     t^3(X0 + 3X1 - 3X2 + X3) + 3*t^2*(X0 - 2X1 + X2) + 3 * t * (X1 - X0) + X0 - x\r\n        //     use the formulas:\r\n        //       t = u - (b / (3a))\r\n        //       u^3 + pu + q = 0\r\n        //       p = (3ac - b^2) / 3a^2\r\n        //       q = (2b^3 - 9abc + 27a^2d) / 27a^3\r\n        //\r\n        //     see: https://en.wikipedia.org/wiki/Cubic_function\r\n        let a = (this.points[0] + 3 * this.points[2] - 3 * this.points[4] + this.points[6]);\r\n        let b = 3 * (this.points[0] - 2 * this.points[2] + this.points[4]);\r\n        let c = 3 * (this.points[2] - this.points[0]);\r\n        let d = -percentage;\r\n        let discriminant;\r\n\r\n        if (!a) {\r\n            // quadratic formula\r\n            discriminant = c * c - 4 * b * d;\r\n            if (discriminant >= 0) {\r\n                possibleResults = [\r\n                    (-b + Math.sqrt(discriminant)) / (2 * b),\r\n                    (-b - Math.sqrt(discriminant)) / (2 * b)\r\n                ]\r\n            }\r\n        } else {\r\n            // cubic\r\n            // start by normalizing the equation\r\n            b /= a;\r\n            c /= a;\r\n            d /= a;\r\n\r\n            const p = (3 * c - b * b) / 3;\r\n            const q = (2 * b * b * b - 9 * b * c + 27 * d) / 27;\r\n\r\n            if (p === 0) {\r\n                // cube root\r\n                possibleResults = [Math.pow(-q, 1 / 3)];\r\n            } else if (q === 0) {\r\n                possibleResults = [\r\n                    Math.sqrt(-p),\r\n                    -Math.sqrt(p)\r\n                ];\r\n            } else {\r\n                discriminant = Math.pow(q / 2, 2) + Math.pow(p / 3, 3);\r\n                if (discriminant === 0) {\r\n                    possibleResults = [Math.pow(q / 2, 1 / 3) - b / 3];\r\n                } else if (discriminant > 0) {\r\n                    possibleResults = [\r\n                        Math.pow(-(q / 2) + Math.sqrt(discriminant), 1 / 3) - Math.pow((q / 2) + Math.sqrt(discriminant), 1 / 3) - b / 3\r\n                    ]\r\n                } else {\r\n                    const r = Math.sqrt(Math.pow(-(p / 3), 3));\r\n                    const phi = Math.acos(-(q / (2 * r)));\r\n                    const s = 2 * Math.pow(r, 1 / 3);\r\n\r\n                    possibleResults = [\r\n                        s * Math.cos(phi / 3) - b / 3,\r\n                        s * Math.cos((phi + 2 * Math.PI) / 3) - b / 3,\r\n                        s * Math.cos((phi + 4 * Math.PI) / 3) - b / 3\r\n                    ];\r\n                }\r\n            }\r\n        }\r\n\r\n        let t;\r\n        if (possibleResults.length === 1) {\r\n            t = possibleResults[0];\r\n        } else {\r\n            for (let i = 0, len = possibleResults.length; i < len; i++) {\r\n                if (possibleResults[i] >= 0 && possibleResults[i] <= 1) {\r\n                    t = possibleResults[i];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        // finally use t to get y\r\n        const y = (1 - t) * (1 - t) * (1 - t) * this.points[1] + 3 * (1 - t) * (1 - t) * t * this.points[3] + 3 * (1 - t) * t * t * this.points[5] + t * t * t * this.points[7];\r\n\r\n        return start + y * change;\r\n    }\r\n}\r\n\r\nexport default CubicBezier;","/**\r\n * Fills an entire canvas with a tiling of a given image.\r\n *\r\n * @export\r\n * @param {HTMLCanvasElement} canvas\r\n * @param {HTMLImageElement} image\r\n * @param {number} baseX\r\n * @param {number} baseY\r\n * @returns\r\n */\r\nexport default function tileCanvasImage (canvas: HTMLCanvasElement, image: HTMLImageElement, baseX: number, baseY: number) {\r\n    if (!image.width || !image.height) {\r\n        // image can't be drawn without a size.\r\n        // probably not loaded\r\n        return;\r\n    }\r\n\r\n    // get the context\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    // find upper-left starting position\r\n    const startX = baseX - (Math.ceil(baseX / image.width) * image.width);\r\n    const startY = baseY - (Math.ceil(baseY / image.height) * image.height);\r\n\r\n    for (let curX = startX; curX < canvas.width; curX += image.width) {\r\n        for (let curY = startY; curY < canvas.height; curY += image.height) {\r\n            ctx.drawImage(image, curX, curY);\r\n        }\r\n    }\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkYXRhL2NsYXNzQ29uZmlncy50cyIsInNjcmlwdHMudHMiLCJ1aS9BbmltYXRpbmdDYW52YXNBYnN0cmFjdC50cyIsInVpL0NsYXNzQ2FyZC50cyIsInVpL0NsYXNzQ2FyZEZyYW1lQ2FudmFzLnRzIiwidWkvQ2xhc3NTZWxlY3RTY3JlZW4udHMiLCJ1aS9DbG91ZGVkQ2FudmFzLnRzIiwidXRpbHMvQW5pbWF0ZWRWYWx1ZS50cyIsInV0aWxzL2NyZWF0ZUVsZW1lbnQudHMiLCJ1dGlscy9kZWVwRXh0ZW5kLnRzIiwidXRpbHMvZWFzaW5nL0N1YmljQmV6aWVyLnRzIiwidXRpbHMvdGlsZUNhbnZhc0ltYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0FDQUEsUUFBQSxPQUFBLEdBQWUsQ0FDWDtBQUNJLFVBQU0sU0FEVjtBQUVJLGlCQUFhLDBDQUZqQjtBQUdJLFdBQU8sQ0FBQyxjQUFELEVBQWlCLGtCQUFqQjtBQUhYLENBRFcsRUFNWDtBQUNJLFVBQU0sVUFEVjtBQUVJLGlCQUFhLDJDQUZqQjtBQUdJLFdBQU8sQ0FBQyxhQUFELEVBQWdCLFdBQWhCO0FBSFgsQ0FOVyxFQVdYO0FBQ0ksVUFBTSxZQURWO0FBRUksaUJBQWEsNkNBRmpCO0FBR0ksV0FBTyxDQUFDLGFBQUQsRUFBZ0IsY0FBaEI7QUFIWCxDQVhXLEVBZ0JYO0FBQ0ksVUFBTSxZQURWO0FBRUksaUJBQWEsNkNBRmpCO0FBR0ksV0FBTyxDQUFDLGNBQUQsRUFBaUIsaUJBQWpCO0FBSFgsQ0FoQlcsRUFxQlg7QUFDSSxVQUFNLFVBRFY7QUFFSSxpQkFBYSwyQ0FGakI7QUFHSSxXQUFPLENBQUMsZ0JBQUQsRUFBbUIsY0FBbkI7QUFIWCxDQXJCVyxDQUFmOzs7Ozs7QUNBQTs7Ozs7O0FBTUEsSUFBQSxzQkFBQSxRQUFBLHdCQUFBLENBQUE7QUFDQSxJQUFBLGlCQUFBLFFBQUEscUJBQUEs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QUFDaEUsZ0JBQUksU0FBSixDQUFjLEtBQWQsRUFBcUIsSUFBckIsRUFBMkIsSUFBM0I7QUFDSDtBQUNKO0FBQ0o7QUFuQkQsUUFBQSxPQUFBLEdBQUEsZUFBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImV4cG9ydCBkZWZhdWx0IFtcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAnU29sZGllcicsXHJcbiAgICAgICAgcG9ydHJhaXRVcmw6ICdpbWFnZXMvY2xhc3Mtc2VsZWN0LXBvcnRyYWl0LXNvbGRpZXIucG5nJyxcclxuICAgICAgICBpdGVtczogWydCYWRhc3MgUmlmbGUnLCAnUG90ZW50IEFGIFBvdGlvbiddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICdFeHBsb3JlcicsXHJcbiAgICAgICAgcG9ydHJhaXRVcmw6ICdpbWFnZXMvY2xhc3Mtc2VsZWN0LXBvcnRyYWl0LWV4cGxvcmVyLnBuZycsXHJcbiAgICAgICAgaXRlbXM6IFsnSHVudGluZyBBeGUnLCAnTW9ub2N1bGFyJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogJ0FkdmVudHVyZXInLFxyXG4gICAgICAgIHBvcnRyYWl0VXJsOiAnaW1hZ2VzL2NsYXNzLXNlbGVjdC1wb3J0cmFpdC1hZHZlbnR1cmVyLnBuZycsXHJcbiAgICAgICAgaXRlbXM6IFsnV29vZGVuIENsdWInLCAnQWR2YW5jZWQgTWFwJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogJ0V4cGF0cmlhdGUnLFxyXG4gICAgICAgIHBvcnRyYWl0VXJsOiAnaW1hZ2VzL2NsYXNzLXNlbGVjdC1wb3J0cmFpdC1leHBhdHJpYXRlLnBuZycsXHJcbiAgICAgICAgaXRlbXM6IFsnU2lsdmVyIFN3b3JkJywgJ1N0cmVuZ3RoIFBvdGlvbiddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICdTdG93YXdheScsXHJcbiAgICAgICAgcG9ydHJhaXRVcmw6ICdpbWFnZXMvY2xhc3Mtc2VsZWN0LXBvcnRyYWl0LXN0b3dhd2F5LnBuZycsXHJcbiAgICAgICAgaXRlbXM6IFsnUm9ndWVcXCdzIEtuaWZlJywgJ0Nvb2tlZCBTdGVhayddXHJcbiAgICB9XHJcbl0iLCIvKipcclxuICogIHNjcmlwdHMuanNcclxuICogIFRoaXMgc2hvdWxkIGluY2x1ZGUgb2JqZWN0cywgd2hpY2ggaW4gdHVybiBpbmNsdWRlIHRoZSBsaWIgZmlsZXMgdGhleSBuZWVkLlxyXG4gKiAgVGhpcyBrZWVwcyB1cyB1c2luZyBhIG1vZHVsYXIgYXBwcm9hY2ggdG8gZGV2IHdoaWxlIGFsc28gb25seSBpbmNsdWRpbmcgdGhlXHJcbiAqICBwYXJ0cyBvZiB0aGUgbGlicmFyeSB3ZSBuZWVkLlxyXG4gKi9cclxuaW1wb3J0IENsYXNzU2VsZWN0U2NyZWVuIGZyb20gJy4vdWkvQ2xhc3NTZWxlY3RTY3JlZW4nO1xyXG5pbXBvcnQgY2xhc3NDb25maWdzIGZyb20gJy4vZGF0YS9jbGFzc0NvbmZpZ3MnO1xyXG5cclxuY29uc3QgY2xhc3NTZWxlY3RTY3JlZW5FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGFzc1NlbGVjdFNjcmVlbicpO1xyXG5jb25zdCBjbGFzc1NlbGVjdFNjcmVlbiA9IG5ldyBDbGFzc1NlbGVjdFNjcmVlbihjbGFzc1NlbGVjdFNjcmVlbkVsLCBjbGFzc0NvbmZpZ3MpO1xyXG5jbGFzc1NlbGVjdFNjcmVlbi5zaG93KCk7IiwiaW1wb3J0IGNyZWF0ZUVsZW1lbnQgZnJvbSAnLi4vdXRpbHMvY3JlYXRlRWxlbWVudCc7XHJcblxyXG5jbGFzcyBBbmltYXRpbmdDYW52YXNBYnN0cmFjdCB7XHJcbiAgICBwdWJsaWMgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHB1YmxpYyBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHByaXZhdGUgcnVubmluZzogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgYW5pbVN0YXJ0VGltZTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX2luaXRDYW52YXMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgX2luaXRDYW52YXMoKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+Y3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcodGltZSkge31cclxuICAgIFxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFuaW1TdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAvLyBiaW5kIHRvIGB0aGlzYCBzbyB3ZSBjYW4gcmV1c2UgaXQgaW4gb3RoZXIgc2NvcGVzLCBsaWtlIHRoZSB3aW5kb3cncyByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcclxuICAgICAgICB0aGlzLmxvb3AgPSB0aGlzLmxvb3AuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmxvb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGxvb3AoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucnVubmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmRyYXcobmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLmFuaW1TdGFydFRpbWUpO1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFuaW1hdGluZ0NhbnZhc0Fic3RyYWN0OyIsImltcG9ydCBjcmVhdGVFbGVtZW50IGZyb20gJy4uL3V0aWxzL2NyZWF0ZUVsZW1lbnQnO1xyXG5pbXBvcnQgQ2xvdWRlZENhbnZhcyBmcm9tICcuL0Nsb3VkZWRDYW52YXMnO1xyXG5pbXBvcnQgQ2xhc3NDYXJkRnJhbWVDYW52YXMgZnJvbSAnLi9DbGFzc0NhcmRGcmFtZUNhbnZhcyc7XHJcblxyXG5pbnRlcmZhY2UgSUNsYXNzQ2FyZENvbmZpZyB7XHJcbiAgICBwb3J0cmFpdFVybDogc3RyaW5nLFxyXG4gICAgbmFtZTogc3RyaW5nLFxyXG4gICAgaXRlbXM6IHN0cmluZ1tdLFxyXG4gICAgc2hpZnRlZD86IGJvb2xlYW4sXHJcbn1cclxuXHJcbmNvbnN0IElURU1fQ09VTlQgPSAyO1xyXG5jb25zdCBNSVNTSU5HX0lURU1fTVNHID0gJ05vdGhpbmcuPGJyPkFic29sdXRlbHkgTm90aGluZyc7XHJcbmNvbnN0IEZMSUNLRVJfTUlOX0RFTEFZID0gMjAwO1xyXG5jb25zdCBGTElDS0VSX01BWF9ERUxBWSA9IDEwMDA7XHJcbmNvbnN0IEZMSUNLRVJfUkVUVVJOX0RFTEFZID0gMTYwO1xyXG5jb25zdCBGTElDS0VSX05PX1RSSVBMRV9USFJFU0hPTEQgPSA0MDA7XHJcbmNvbnN0IEFDVElWRV9DQU5WQVNfSU1BR0UgPSAnaW1hZ2VzL2NsYXNzLXNlbGVjdC1mcmFtZS1hY3RpdmUtZXh0cmFzLnBuZyc7XHJcbmNvbnN0IEFDVElWRV9DQU5WQVNfU1RPUF9ERUxBWSA9IDUwMDtcclxuXHJcbmNsYXNzIENsYXNzQ2FyZCB7XHJcbiAgICBwdWJsaWMgZWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgcHJpdmF0ZSBjb25maWc6IElDbGFzc0NhcmRDb25maWc7XHJcbiAgICBwcml2YXRlIGh0bWxFbGVtZW50cztcclxuICAgIHByaXZhdGUgc2hpZnRVbnNoaWZ0VGltZW91dDtcclxuICAgIHByaXZhdGUgZmxpY2tlclRpbWVvdXQ7XHJcbiAgICBwcml2YXRlIGxhc3RGbGlja2VyRGVsYXk7XHJcbiAgICBwcml2YXRlIGNsb3VkZWRDYW52YXM6IENsb3VkZWRDYW52YXM7XHJcbiAgICBwcml2YXRlIGZyYW1lOiBDbGFzc0NhcmRGcmFtZUNhbnZhcztcclxuICAgIHByaXZhdGUgaG92ZXJlZDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgYWN0aXZlOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBmcmFtZVNob3dpbmc6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSUNsYXNzQ2FyZENvbmZpZykge1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLl9idWlsZEVsZW1lbnQoKTtcclxuXHJcbiAgICAgICAgLy8gdGVtcFxyXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ob3ZlcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5oaWdobGlnaHQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ob3ZlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudW5oaWdobGlnaHQoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIF9idWlsZEVsZW1lbnQoKSB7XHJcbiAgICAgICAgdGhpcy5odG1sRWxlbWVudHMgPSB7XHJcbiAgICAgICAgICAgIG1haW46IGNyZWF0ZUVsZW1lbnQoJ2EnLCB7IGNsYXNzTmFtZTogJ2NsYXNzLWNhcmQnICsgKHRoaXMuY29uZmlnLnNoaWZ0ZWQgPyAnIGlzLXNoaWZ0ZWQnIDogJycpIH0pLFxyXG4gICAgICAgICAgICBwb3J0cmFpdEJveDogY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdjbGFzcy1jYXJkX19wb3J0cmFpdC1ib3gnIH0pLFxyXG4gICAgICAgICAgICBwb3J0cmFpdDogY3JlYXRlRWxlbWVudCgnaW1nJywge1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnY2xhc3MtY2FyZF9fcG9ydHJhaXQnLFxyXG4gICAgICAgICAgICAgICAgc3JjOiB0aGlzLmNvbmZpZy5wb3J0cmFpdFVybFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbmFtZTogY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdjbGFzcy1jYXJkX19uYW1lJyB9KSxcclxuICAgICAgICAgICAgbmFtZVNwYW46IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGlubmVySFRNTDogdGhpcy5jb25maWcubmFtZSB9KSxcclxuICAgICAgICAgICAgaXRlbXM6IFtdXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLmh0bWxFbGVtZW50cy5tYWluO1xyXG4gICAgICAgIC8vIHNsYXAgaW4gZ3JlZWJsZXMgZmlyc3RcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6ICdjbGFzcy1jYXJkX19ncmVlYmxlIGNsYXNzLWNhcmRfX2dyZWVibGUtLXRyJywgc3JjOiAnaW1hZ2VzL2dyZWVibGUtdHIucG5nJyB9KSk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgY2xhc3NOYW1lOiAnY2xhc3MtY2FyZF9fZ3JlZWJsZSBjbGFzcy1jYXJkX19ncmVlYmxlLS1ibDEnLCBzcmM6ICdpbWFnZXMvZ3JlZWJsZS1ibC5wbmcnIH0pKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudCgnaW1nJywgeyBjbGFzc05hbWU6ICdjbGFzcy1jYXJkX19ncmVlYmxlIGNsYXNzLWNhcmRfX2dyZWVibGUtLWJsMicsIHNyYzogJ2ltYWdlcy9ncmVlYmxlLWJsMi5wbmcnIH0pKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuaHRtbEVsZW1lbnRzLnBvcnRyYWl0Qm94KTtcclxuICAgICAgICB0aGlzLmh0bWxFbGVtZW50cy5wb3J0cmFpdEJveC5hcHBlbmRDaGlsZCh0aGlzLmh0bWxFbGVtZW50cy5wb3J0cmFpdCk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuaHRtbEVsZW1lbnRzLm5hbWUpO1xyXG4gICAgICAgIHRoaXMuaHRtbEVsZW1lbnRzLm5hbWUuYXBwZW5kQ2hpbGQodGhpcy5odG1sRWxlbWVudHMubmFtZVNwYW4pO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgdGhlIHJpZ2h0IG51bWJlciBvZiBpdGVtcywgcmVnYXJkbGVzcyBob3cgbWFueSB3ZSdyZSBnaXZlblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgSVRFTV9DT1VOVDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1FbCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiAnY2xhc3MtY2FyZF9faXRlbScgfSk7XHJcbiAgICAgICAgICAgIGl0ZW1FbC5hcHBlbmRDaGlsZChjcmVhdGVFbGVtZW50KCdzcGFuJywgeyBpbm5lckhUTUw6IHRoaXMuY29uZmlnLml0ZW1zW2ldIHx8IE1JU1NJTkdfSVRFTV9NU0cgfSkpO1xyXG4gICAgICAgICAgICB0aGlzLmh0bWxFbGVtZW50cy5pdGVtcy5wdXNoKGl0ZW1FbCk7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChpdGVtRWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIHRoZSBmcmFtZSB0aGF0IGhpZ2hsaWdodHNcclxuICAgICAgICB0aGlzLmZyYW1lID0gbmV3IENsYXNzQ2FyZEZyYW1lQ2FudmFzKCk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZnJhbWUuY2FudmFzKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2xlYXJTaGlmdFVuc2hpZnRUaW1lb3V0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNoaWZ0VW5zaGlmdFRpbWVvdXQpIHtcclxuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnNoaWZ0VW5zaGlmdFRpbWVvdXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNoaWZ0IHRoZSBjYXJkIG91dCBvZiBpdHMgbm9ybWFsIHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsYXk9MF0gLSBkZWxheSBiZWZvcmUgc2hpZnRpbmcgaW4gbXNcclxuICAgICAqIEBtZW1iZXJvZiBDbGFzc0NhcmRcclxuICAgICAqL1xyXG4gICAgc2hpZnQoZGVsYXkgPSAwKSB7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJTaGlmdFVuc2hpZnRUaW1lb3V0KCk7XHJcblxyXG4gICAgICAgIGlmIChkZWxheSA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zaGlmdFVuc2hpZnRUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2lzLXNoaWZ0ZWQnKTtcclxuICAgICAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpcy1zaGlmdGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgc2hpZnRlZCBjYXJkIGJhY2sgdG8gaXRzIG5vcm1hbCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlbGF5PTBdIC0gZGVsYXkgYmVmb3JlIHVuc2hpZnRpbmcgaW4gbXNcclxuICAgICAqIEBtZW1iZXJvZiBDbGFzc0NhcmRcclxuICAgICAqL1xyXG4gICAgdW5zaGlmdChkZWxheSA9IDApIHtcclxuICAgICAgICB0aGlzLl9jbGVhclNoaWZ0VW5zaGlmdFRpbWVvdXQoKTtcclxuXHJcbiAgICAgICAgaWYgKGRlbGF5ID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNoaWZ0VW5zaGlmdFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtc2hpZnRlZCcpO1xyXG4gICAgICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXNoaWZ0ZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IHRoZSBicmlnaHQgZnJhbWUgdG8gaW5kaWNhdGUgaG92ZXIgb3IgYWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgQ2xhc3NDYXJkXHJcbiAgICAgKi9cclxuICAgIGhpZ2hsaWdodCgpIHtcclxuICAgICAgICBpZiAodGhpcy5mcmFtZVNob3dpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mcmFtZS5jYW52YXMuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcclxuICAgICAgICB0aGlzLmZyYW1lLmNhbnZhcy5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgICAgIHRoaXMuZnJhbWUuc3RhcnQoKTtcclxuICAgICAgICB0aGlzLmZyYW1lU2hvd2luZyA9IHRydWU7XHJcbiAgICAgICAgLy8gcmUtZW5hYmxlIHRyYW5zaXRpb25zIG9uIG5leHQgZnJhbWVcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmZyYW1lLmNhbnZhcy5zdHlsZS50cmFuc2l0aW9uID0gJyc7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhpZGUgdGhlIGJyaWdodCBmcmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIENsYXNzQ2FyZFxyXG4gICAgICovXHJcbiAgICB1bmhpZ2hsaWdodCgpIHtcclxuICAgICAgICBpZiAodGhpcy5ob3ZlcmVkIHx8IHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZnJhbWUuY2FudmFzLnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcbiAgICAgICAgdGhpcy5mcmFtZVNob3dpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGFjdGl2ZSBzdGF0ZSwgYWxzbyBzaG93aW5nIHRoZSBmcmFtZSBhbmQgY2xvdWRlZENhbnZhcy5cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyb2YgQ2xhc3NDYXJkXHJcbiAgICAgKi9cclxuICAgIHNldEFjdGl2ZSgpIHtcclxuICAgICAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIGEgY2xvdWRlZCBjYW52YXMsIG1ha2Ugb25lIG5vd1xyXG4gICAgICAgIGlmICghdGhpcy5jbG91ZGVkQ2FudmFzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvdWRlZENhbnZhcyA9IG5ldyBDbG91ZGVkQ2FudmFzKHtcclxuICAgICAgICAgICAgICAgIGltYWdlUGF0aDogQUNUSVZFX0NBTlZBU19JTUFHRSxcclxuICAgICAgICAgICAgICAgIGNsb3VkU3BlZWQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB4OiAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogMTAwLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY2xvdWRlZENhbnZhcy5jYW52YXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xyXG4gICAgICAgIHRoaXMuY2xvdWRlZENhbnZhcy5zdGFydCgpO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmhpZ2hsaWdodCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGFrZXMgdGhlIGNhcmQgb3V0IG9mIHRoZSBhY3RpdmUgc3RhdGUuIEFsc28gdW5oaWdobGlnaHRzIGlmIG5vdCBob3ZlcmVkLlxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJvZiBDbGFzc0NhcmRcclxuICAgICAqL1xyXG4gICAgc2V0SW5hY3RpdmUoKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuY2xvdWRlZENhbnZhcykge1xyXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3VkZWRDYW52YXMuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG91ZGVkQ2FudmFzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH0sIEFDVElWRV9DQU5WQVNfU1RPUF9ERUxBWSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudW5oaWdobGlnaHQoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2xhc3NDYXJkO1xyXG5leHBvcnQgeyBJQ2xhc3NDYXJkQ29uZmlnIH07IiwiaW1wb3J0IEFuaW1hdGVkVmFsdWUgZnJvbSBcIi4uL3V0aWxzL0FuaW1hdGVkVmFsdWVcIjtcclxuaW1wb3J0IEN1YmljQmV6aWVyIGZyb20gJy4uL3V0aWxzL2Vhc2luZy9DdWJpY0Jlemllcic7XHJcbmltcG9ydCBBbmltYXRpbmdDYW52YXNBYnN0cmFjdCBmcm9tIFwiLi9BbmltYXRpbmdDYW52YXNBYnN0cmFjdFwiO1xyXG5cclxuY29uc3QgUkVBTF9USU1FX1BFUl9LRVlGUkFNRV9USU1FID0gMzM7XHJcblxyXG4vLyBzZXQgdXAgZ2xvYmFsIGZyYW1lIGltYWdlXHJcbmxldCBmcmFtZUltYWdlTG9hZGVkID0gZmFsc2U7XHJcbmNvbnN0IEZSQU1FX0lNQUdFID0gbmV3IEltYWdlKCk7XHJcbkZSQU1FX0lNQUdFLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICBmcmFtZUltYWdlTG9hZGVkID0gdHJ1ZTtcclxufSk7XHJcbkZSQU1FX0lNQUdFLnNyYyA9ICdpbWFnZXMvY2xhc3Mtc2VsZWN0LWZyYW1lLnBuZyc7XHJcblxyXG5jb25zdCBFQVNFX09VVF9CRVpJRVIgPSBuZXcgQ3ViaWNCZXppZXIoLjA3LCAuMjQsIC4yNSwgLjk4KTtcclxuY29uc3QgRUFTRV9PVVRfQkVaSUVSX1NVQlRMRSA9IG5ldyBDdWJpY0JlemllciguMTQsIC4yNywgLjU3LCAuOTcpO1xyXG5jb25zdCBFQVNFX0lOX09VVF9CRVpJRVIgPSBuZXcgQ3ViaWNCZXppZXIoLjQ5LCAuMTIsIC40NSwgLjk4KTtcclxuY29uc3QgTEFTVF9LRl9USU1FID0gMTQ7XHJcbmNvbnN0IFNIQVBFUyA9IFtcclxuICAgIHtcclxuICAgICAgICAvLyB0b3AgYmFyXHJcbiAgICAgICAgdHlwZTogJ3JlY3RhbmdsZScsXHJcbiAgICAgICAgeDogMCxcclxuICAgICAgICB5OiAwLFxyXG4gICAgICAgIHc6IG5ldyBBbmltYXRlZFZhbHVlKFtcclxuICAgICAgICAgICAgeyB0aW1lOiAwLCB2YWx1ZTogMCwgZWFzZTogRUFTRV9PVVRfQkVaSUVSLmVhc2UgfSxcclxuICAgICAgICAgICAgeyB0aW1lOiA5LCB2YWx1ZTogMzQ2IH0sXHJcbiAgICAgICAgXSksXHJcbiAgICAgICAgaDogMjJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgLy8gbGVmdCBzaWRlXHJcbiAgICAgICAgdHlwZTogJ3JlY3RhbmdsZScsXHJcbiAgICAgICAgeDogMCxcclxuICAgICAgICB5OiAwLFxyXG4gICAgICAgIHc6IDI4LFxyXG4gICAgICAgIGg6IG5ldyBBbmltYXRlZFZhbHVlKFtcclxuICAgICAgICAgICAgeyB0aW1lOiAwLCB2YWx1ZTogMCwgZWFzZTogRUFTRV9PVVRfQkVaSUVSLmVhc2UgfSxcclxuICAgICAgICAgICAgeyB0aW1lOiA1LCB2YWx1ZTogNzMyIH1cclxuICAgICAgICBdKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICAvLyBhYm92ZSBuYW1lXHJcbiAgICAgICAgdHlwZTogJ3JlY3RhbmdsZScsXHJcbiAgICAgICAgeDogMCxcclxuICAgICAgICB5OiA1NTAsXHJcbiAgICAgICAgdzogbmV3IEFuaW1hdGVkVmFsdWUoW1xyXG4gICAgICAgICAgICB7IHRpbWU6IDEsIHZhbHVlOiAwLCBlYXNlOiBFQVNFX09VVF9CRVpJRVJfU1VCVExFLmVhc2UgfSxcclxuICAgICAgICAgICAgeyB0aW1lOiA5LCB2YWx1ZTogNTY0IH1cclxuICAgICAgICBdKSxcclxuICAgICAgICBoOiAyN1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICAvLyByaWdodCBzaWRlXHJcbiAgICAgICAgdHlwZTogJ3JlY3RhbmdsZScsXHJcbiAgICAgICAgeDogMzE3LFxyXG4gICAgICAgIHk6IG5ldyBBbmltYXRlZFZhbHVlKFtcclxuICAgICAgICAgICAgeyB0aW1lOiAwLCB2YWx1ZTogNzMyLCBlYXNlOiBFQVNFX0lOX09VVF9CRVpJRVIuZWFzZSB9LFxyXG4gICAgICAgICAgICB7IHRpbWU6IDEyLCB2YWx1ZTogMCB9XHJcbiAgICAgICAgXSksXHJcbiAgICAgICAgdzogNDAsXHJcbiAgICAgICAgaDogNzQwLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICAvLyBiZWxvdyBuYW1lXHJcbiAgICAgICAgdHlwZTogJ3JlY3RhbmdsZScsXHJcbiAgICAgICAgeDogMCxcclxuICAgICAgICB5OiA2MjQsXHJcbiAgICAgICAgdzogbmV3IEFuaW1hdGVkVmFsdWUoW1xyXG4gICAgICAgICAgICB7IHRpbWU6IDIsIHZhbHVlOiAwLCBlYXNlOiBFQVNFX09VVF9CRVpJRVJfU1VCVExFLmVhc2UgfSxcclxuICAgICAgICAgICAgeyB0aW1lOiAxMiwgdmFsdWU6IDU2NCB9XHJcbiAgICAgICAgXSksXHJcbiAgICAgICAgaDogMTEsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIC8vIGJldHdlZW4gaXRlbXNcclxuICAgICAgICB0eXBlOiAncmVjdGFuZ2xlJyxcclxuICAgICAgICB4OiAwLFxyXG4gICAgICAgIHk6IDY3MyxcclxuICAgICAgICB3OiBuZXcgQW5pbWF0ZWRWYWx1ZShbXHJcbiAgICAgICAgICAgIHsgdGltZTogMiwgdmFsdWU6IDAsIGVhc2U6IEVBU0VfT1VUX0JFWklFUl9TVUJUTEUuZWFzZSB9LFxyXG4gICAgICAgICAgICB7IHRpbWU6IDE0LCB2YWx1ZTogNTY0IH1cclxuICAgICAgICBdKSxcclxuICAgICAgICBoOiA0LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICAvLyBib3R0b21cclxuICAgICAgICB0eXBlOiAncmVjdGFuZ2xlJyxcclxuICAgICAgICB4OiAwLFxyXG4gICAgICAgIHk6IDcxMyxcclxuICAgICAgICB3OiBuZXcgQW5pbWF0ZWRWYWx1ZShbXHJcbiAgICAgICAgICAgIHsgdGltZTogMSwgdmFsdWU6IDAsIGVhc2U6IEVBU0VfSU5fT1VUX0JFWklFUi5lYXNlIH0sXHJcbiAgICAgICAgICAgIHsgdGltZTogMTMsIHZhbHVlOiA1NjQgfVxyXG4gICAgICAgIF0pLFxyXG4gICAgICAgIGg6IDUwLCAvLyBvdmVya2lsbCB0byBtYWtlIHN1cmUgYm90dG9tIGlzIGZpbGxlZFxyXG4gICAgfVxyXG5dXHJcblxyXG5jbGFzcyBDbGFzc0NhcmRGcmFtZUNhbnZhcyBleHRlbmRzIEFuaW1hdGluZ0NhbnZhc0Fic3RyYWN0IHtcclxuICAgIHB1YmxpYyBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHVibGljIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cclxuICAgIHByaXZhdGUgb2Zmc2NyZWVuQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgb2N0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLm9mZnNjcmVlbkNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIHRoaXMub2N0eCA9IHRoaXMub2Zmc2NyZWVuQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLmNsYXNzTGlzdC5hZGQoJ2NsYXNzLWNhcmRfX2ZyYW1lLWNhbnZhcycpO1xyXG4gICAgICAgIEZSQU1FX0lNQUdFLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemVDYW52YXMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfc2l6ZUNhbnZhcygpIHtcclxuICAgICAgICBjb25zdCBjYW5XaWR0aCA9IEZSQU1FX0lNQUdFLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGNhbkhlaWdodCA9IEZSQU1FX0lNQUdFLmhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBjYW5XaWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBjYW5IZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5vZmZzY3JlZW5DYW52YXMud2lkdGggPSBjYW5XaWR0aDtcclxuICAgICAgICB0aGlzLm9mZnNjcmVlbkNhbnZhcy5oZWlnaHQgPSBjYW5IZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyh0aW1lKSB7XHJcbiAgICAgICAgY29uc3Qga2ZUaW1lID0gdGltZSAvIFJFQUxfVElNRV9QRVJfS0VZRlJBTUVfVElNRTtcclxuICAgICAgICB0aGlzLm9jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoLCB0aGlzLm9mZnNjcmVlbkNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMub2N0eC5maWxsU3R5bGUgPSAnI0ZGRkZGRic7XHJcbiAgICAgICAgU0hBUEVTLmZvckVhY2goKHNoYXBlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzaGFwZS50eXBlID09PSAncmVjdGFuZ2xlJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vY3R4LmZpbGxSZWN0KFxyXG4gICAgICAgICAgICAgICAgICAgIGdldFJlYWxWYWx1ZShzaGFwZS54LCBrZlRpbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldFJlYWxWYWx1ZShzaGFwZS55LCBrZlRpbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldFJlYWxWYWx1ZShzaGFwZS53LCBrZlRpbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldFJlYWxWYWx1ZShzaGFwZS5oLCBrZlRpbWUpLFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKEZSQU1FX0lNQUdFLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLWluJztcclxuICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UodGhpcy5vZmZzY3JlZW5DYW52YXMsIDAsIDApO1xyXG4gICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgLy8gc2F2ZSByZWRyYXdzXHJcbiAgICAgICAgaWYgKGtmVGltZSA+IExBU1RfS0ZfVElNRSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIHF1aWNrIGhlbHBlclxyXG5mdW5jdGlvbiBnZXRSZWFsVmFsdWUoYmFzZVZhbHVlLCB0aW1lKSB7XHJcbiAgICBpZiAoYmFzZVZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWRWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBiYXNlVmFsdWUuZ2V0QXRUaW1lKHRpbWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gYmFzZVZhbHVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDbGFzc0NhcmRGcmFtZUNhbnZhczsiLCJpbXBvcnQgeyBJQ2xhc3NDYXJkQ29uZmlnIH0gZnJvbSAnLi9DbGFzc0NhcmQnO1xyXG5pbXBvcnQgQ2xhc3NDYXJkIGZyb20gJy4vQ2xhc3NDYXJkJztcclxuXHJcbmNvbnN0IFVOU0hJRlRfU1RBR0dFUl9USU1FID0gMzM7XHJcblxyXG4vLyB0aGlzIGlzIHN1cGVyIG1pbmltYWxcclxuLy8gdXNpbmcgbW9zdGx5IGFzIGEgY29udHJvbGxlciBmb3Igbm93XHJcbmNsYXNzIENsYXNzU2VsZWN0U2NyZWVuIHtcclxuICAgIHByaXZhdGUgYWN0aXZlSW5kZXg6IG51bWJlcjtcclxuICAgIHByaXZhdGUgY2xhc3NDYXJkczogQ2xhc3NDYXJkW107XHJcbiAgICBwdWJsaWMgZWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQsIGNsYXNzQ29uZmlnczogSUNsYXNzQ2FyZENvbmZpZ1tdKSB7XHJcbiAgICAgICAgdGhpcy5jbGFzc0NhcmRzID0gW107XHJcbiAgICAgICAgY2xhc3NDb25maWdzLmZvckVhY2goKGMsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2xhc3NDYXJkKGMpO1xyXG4gICAgICAgICAgICBjYXJkLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3NDYXJkcy5wdXNoKGNhcmQpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNhcmQuZWxlbWVudCk7XHJcbiAgICAgICAgICAgIGNhcmQuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlQ2xhc3MoaW5kZXgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBY3RpdmVDbGFzcyhpbmRleCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ID09PSBpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGNsZWFyIGN1cnJlbnRcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVJbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3NDYXJkc1t0aGlzLmFjdGl2ZUluZGV4XS5zZXRJbmFjdGl2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXQgbmV3XHJcbiAgICAgICAgaWYgKHRoaXMuY2xhc3NDYXJkc1tpbmRleF0pIHtcclxuICAgICAgICAgICAgdGhpcy5jbGFzc0NhcmRzW2luZGV4XS5zZXRBY3RpdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IGluZGV4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1oaWRkZW4nKTtcclxuICAgICAgICB0aGlzLmNsYXNzQ2FyZHMuZm9yRWFjaCgoYywgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgYy51bnNoaWZ0KGluZGV4ICogVU5TSElGVF9TVEFHR0VSX1RJTUUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDbGFzc1NlbGVjdFNjcmVlbjsiLCJpbXBvcnQgZGVlcEV4dGVuZCBmcm9tICcuLi91dGlscy9kZWVwRXh0ZW5kJztcclxuaW1wb3J0IHRpbGVDYW52YXNJbWFnZSBmcm9tICcuLi91dGlscy90aWxlQ2FudmFzSW1hZ2UnO1xyXG5pbXBvcnQgQW5pbWF0aW5nQ2FudmFzQWJzdHJhY3QgZnJvbSAnLi9BbmltYXRpbmdDYW52YXNBYnN0cmFjdCc7XHJcblxyXG4vLyBzZXQgdXAgZ2xvYmFsIGNsb3VkIGltYWdlXHJcbmxldCBjbG91ZEltYWdlTG9hZGVkID0gZmFsc2U7XHJcbmNvbnN0IENMT1VEX0lNQUdFID0gbmV3IEltYWdlKCk7XHJcbkNMT1VEX0lNQUdFLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICBjbG91ZEltYWdlTG9hZGVkID0gdHJ1ZTtcclxufSk7XHJcbkNMT1VEX0lNQUdFLnNyYyA9ICdpbWFnZXMvY2xvdWRzLnBuZyc7XHJcblxyXG5pbnRlcmZhY2UgSUNsb3VkZWRDYW52YXNDb25maWcge1xyXG4gICAgaW1hZ2VQYXRoOiBzdHJpbmcsXHJcbiAgICB3aWR0aD86IG51bWJlcixcclxuICAgIGhlaWdodD86IG51bWJlcixcclxuICAgIGNsb3VkU3BlZWQ/OiB7XHJcbiAgICAgICAgeDogbnVtYmVyLFxyXG4gICAgICAgIHk6IG51bWJlcixcclxuICAgIH1cclxufVxyXG5jb25zdCBERUZBVUxUUyA9IHtcclxuICAgIGltYWdlUGF0aDogJycsXHJcbiAgICBjbG91ZFNwZWVkOiB7XHJcbiAgICAgICAgeDogMTAwLFxyXG4gICAgICAgIHk6IDEwMCxcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ2xvdWRlZENhbnZhcyBleHRlbmRzIEFuaW1hdGluZ0NhbnZhc0Fic3RyYWN0IHtcclxuICAgIHByaXZhdGUgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGltYWdlTG9hZGVkOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBjb25maWc6IElDbG91ZGVkQ2FudmFzQ29uZmlnO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IElDbG91ZGVkQ2FudmFzQ29uZmlnKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSA8SUNsb3VkZWRDYW52YXNDb25maWc+ZGVlcEV4dGVuZCh7fSwgREVGQVVMVFMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICB0aGlzLl9pbml0SW1hZ2UoKTtcclxuICAgICAgICB0aGlzLl9zaXplQ2FudmFzKCk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuY2xhc3NMaXN0LmFkZCgnY2xvdWRlZC1jYW52YXMnKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdEltYWdlKCkge1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmltYWdlTG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZUNhbnZhcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gdGhpcy5jb25maWcuaW1hZ2VQYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIF9zaXplQ2FudmFzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jb25maWcgJiYgIXRoaXMuaW1hZ2UpIHtcclxuICAgICAgICAgICAgLy8gbm90IHJlYWR5XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNhbldpZHRoID0gdGhpcy5jb25maWcgJiYgdGhpcy5jb25maWcud2lkdGggfHwgdGhpcy5pbWFnZS53aWR0aDtcclxuICAgICAgICBjb25zdCBjYW5IZWlnaHQgPSB0aGlzLmNvbmZpZyAmJiB0aGlzLmNvbmZpZy5oZWlnaHQgfHwgdGhpcy5pbWFnZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gY2FuV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gY2FuSGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcodGltZTogbnVtYmVyID0gMCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pbWFnZUxvYWRlZCB8fCAhY2xvdWRJbWFnZUxvYWRlZCkge1xyXG4gICAgICAgICAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIHRoZSBpbWFnZXMsIGZhaWxcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdGltZUluUyA9IHRpbWUgLyAxMDAwO1xyXG5cclxuICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgICAgLy8gc2F2ZSBjb250ZXh0IHN0YXRlXHJcbiAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgIC8vIGRyYXcgdGhlIGNsb3VkcywgdGlsZWRcclxuICAgICAgICB0aWxlQ2FudmFzSW1hZ2UodGhpcy5jYW52YXMsIENMT1VEX0lNQUdFLCB0aGlzLmNvbmZpZy5jbG91ZFNwZWVkLnggKiB0aW1lSW5TLCB0aGlzLmNvbmZpZy5jbG91ZFNwZWVkLnkgKiB0aW1lSW5TKTtcclxuICAgICAgICAvLyBjaGFuZ2UgbW9kZSB0byBkcmF3IHdpdGhpbiBkZXN0aW5hdGlvblxyXG4gICAgICAgIHRoaXMuY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2UtaW4nO1xyXG4gICAgICAgIC8vIGRyYXcgdGhlIHJlYWwgaW1hZ2VcclxuICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgLy8gcmV0dXJuIHRvIGxhc3Qgc3RhdGVcclxuICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENsb3VkZWRDYW52YXM7IiwiaW50ZXJmYWNlIElLZXlmcmFtZSB7XHJcbiAgICB0aW1lOiBudW1iZXIsXHJcbiAgICB2YWx1ZTogbnVtYmVyLFxyXG4gICAgZWFzZT86IChzdGFydDogbnVtYmVyLCBjaGFuZ2U6IG51bWJlciwgcGVyY2VudGFnZTogbnVtYmVyKSA9PiBudW1iZXJcclxufVxyXG5cclxuY2xhc3MgQW5pbWF0ZWRWYWx1ZSB7XHJcbiAgICBwcml2YXRlIGtleWZyYW1lczogSUtleWZyYW1lW107XHJcbiAgICBwcml2YXRlIGxlbmd0aDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBzdGFydEJvdW5kOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBlbmRCb3VuZDogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoa2V5ZnJhbWVzOiBJS2V5ZnJhbWVbXSwgc3RhcnRCb3VuZDogYm9vbGVhbiA9IHRydWUsIGVuZEJvdW5kOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMua2V5ZnJhbWVzID0ga2V5ZnJhbWVzO1xyXG4gICAgICAgIHRoaXMubGVuZ3RoID0ga2V5ZnJhbWVzW2tleWZyYW1lcy5sZW5ndGggLSAxXS50aW1lO1xyXG4gICAgICAgIHRoaXMuc3RhcnRCb3VuZCA9IHN0YXJ0Qm91bmQ7XHJcbiAgICAgICAgdGhpcy5lbmRCb3VuZCA9IGVuZEJvdW5kO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEF0VGltZSAodGltZSkge1xyXG4gICAgICAgIC8vIGhhbmRsZSBiZWZvcmUgaWYgc3RhcnRCb3VuZCBhbmQgYWZ0ZXIgaWYgZW5kQm91bmRcclxuICAgICAgICBpZiAodGhpcy5zdGFydEJvdW5kICYmIHRoaXMua2V5ZnJhbWVzWzBdLnRpbWUgPj0gdGltZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlmcmFtZXNbMF0udmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVuZEJvdW5kICYmIHRoaXMua2V5ZnJhbWVzW3RoaXMua2V5ZnJhbWVzLmxlbmd0aCAtIDFdLnRpbWUgPD0gdGltZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlmcmFtZXNbdGhpcy5rZXlmcmFtZXMubGVuZ3RoIC0gMV0udmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB0aW1lIGZvciBtYXRoc1xyXG4gICAgICAgIC8vIGtmIG1lYXN1cmVzIHRoZSAndG8nIGZyYW1lLCBzbyBzdGFydCBhdCAxIGluc3RlYWQgb2YgMFxyXG4gICAgICAgIGxldCBrZiA9IDE7XHJcbiAgICAgICAgLy8gZm9yIGxvb3AgdGhhdCBkb2Vzbid0IHJlYWxseSBkbyBhbnl0aGluZyBpbnNpZGUgdGhlIGxvb3AuIEp1c3QgaXRlcmF0ZXMgdW50aWwgdGhlIGNvbmRpdGlvbiBpcyB0cnVlXHJcbiAgICAgICAgZm9yICg7IGtmIDwgdGhpcy5rZXlmcmFtZXMubGVuZ3RoIC0gMSAmJiB0aW1lID4gdGhpcy5rZXlmcmFtZXNba2ZdLnRpbWU7IGtmKyspO1xyXG4gICAgICAgIC8vIGRldGVybWluZSBlYXNpbmcgbWV0aG9kXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmtleWZyYW1lc1trZiAtIDFdLmVhc2UgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMua2V5ZnJhbWVzW2tmIC0gMV0uZWFzZShcclxuICAgICAgICAgICAgICAgIHRoaXMua2V5ZnJhbWVzW2tmIC0gMV0udmFsdWUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmtleWZyYW1lc1trZl0udmFsdWUgLSB0aGlzLmtleWZyYW1lc1trZiAtIDFdLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgKHRpbWUgLSB0aGlzLmtleWZyYW1lc1trZiAtIDFdLnRpbWUpIC8gKHRoaXMua2V5ZnJhbWVzW2tmXS50aW1lIC0gdGhpcy5rZXlmcmFtZXNba2YgLSAxXS50aW1lKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG5vIHBhc3NlZCBlYXNpbmcgbWV0aG9kLCBzbyBsaW5lYXIgaXQgaXNcclxuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmtleWZyYW1lc1trZiAtIDFdLnZhbHVlICsgKHRoaXMua2V5ZnJhbWVzW2tmXS52YWx1ZSAtIHRoaXMua2V5ZnJhbWVzW2tmIC0gMV0udmFsdWUpICogKHRpbWUgLSB0aGlzLmtleWZyYW1lc1trZiAtIDFdLnRpbWUpIC8gKHRoaXMua2V5ZnJhbWVzW2tmXS50aW1lIC0gdGhpcy5rZXlmcmFtZXNba2YgLSAxXS50aW1lKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBbmltYXRlZFZhbHVlOyIsImltcG9ydCBkZWVwRXh0ZW5kIGZyb20gJy4uL3V0aWxzL2RlZXBFeHRlbmQnO1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYW4gZWxlbWVudCB3aXRoIHRoZSBnaXZlbiBwcm9wZXJ0aWVzLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcHM9e31dXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZ05hbWU6IHN0cmluZywgcHJvcHM6IG9iamVjdCA9IHt9KTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xyXG4gICAgZGVlcEV4dGVuZChlbCwgcHJvcHMpO1xyXG4gICAgcmV0dXJuIGVsO1xyXG59IiwiLyoqXHJcbiAqIERlZXBseSBleHRlbmRzIGFuIG9iamVjdCB3aXRoIGFub3RoZXIuIFRoZSBmaXJzdCBvYmplY3QgaXMgbXV0YXRlZC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9iajFcclxuICogQHBhcmFtIHtPYmplY3R9IG9iajJcclxuICogQHJldHVybnNcclxuICovXHJcbmZ1bmN0aW9uIGRlZXBFeHRlbmRPYmplY3QgKG9iajE6IG9iamVjdCwgb2JqMjogb2JqZWN0KSB7XHJcbiAgICBmb3IgKGxldCBwcm9wIGluIG9iajIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG9iajJbcHJvcF0gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqMVtwcm9wXSAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIG9iajFbcHJvcF0gPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyByZWN1cnNpdmVseSBhcHBseSBvYmplY3RcclxuICAgICAgICAgICAgZGVlcEV4dGVuZChvYmoxW3Byb3BdLCBvYmoyW3Byb3BdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvYmoxW3Byb3BdID0gb2JqMltwcm9wXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9iajE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWVwbHkgZXh0ZW5kcyBhbiBvYmplY3Qgd2l0aCBhIG51bWJlciBvZiBvdGhlciBvYmplY3RzLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmoxXHJcbiAqIEBwYXJhbSB7b2JqZWN0W119IGFkZGl0aW9uYWxPYmplY3RzXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWVwRXh0ZW5kIChvYmoxOiBvYmplY3QsIC4uLmFkZGl0aW9uYWxPYmplY3RzOiBvYmplY3RbXSkge1xyXG4gICAgYWRkaXRpb25hbE9iamVjdHMuZm9yRWFjaCgobykgPT4ge1xyXG4gICAgICAgIGRlZXBFeHRlbmRPYmplY3Qob2JqMSwgbyk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBvYmoxO1xyXG59IiwiY2xhc3MgQ3ViaWNCZXppZXIge1xyXG4gICAgcHJpdmF0ZSBwb2ludHM6IG51bWJlcltdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yICh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5wb2ludHMgPSBbMCwgMCwgeDEsIHkxLCB4MiwgeTIsIDEsIDFdO1xyXG4gICAgICAgIHRoaXMuZWFzZSA9IHRoaXMuZWFzZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoaXMgd2FzIG1vc3RseSByaXBwZWQvcG9ydGVkIHRvIEVTNiBmcm9tIGEgbWV0aG9kIEkgZmlndXJlZCBvdXQgeWVhcnMgYWdvLiBJIGRvbid0IHJlbWVtYmVyIGhvdyBpdCBhY3R1YWxseSB3b3Jrcy5cclxuICAgIGVhc2UgKHN0YXJ0OiBudW1iZXIsIGNoYW5nZTogbnVtYmVyLCBwZXJjZW50YWdlOiBudW1iZXIpIHtcclxuICAgICAgICAvLyBmaXJzdCwgZmlndXJlIG91dCB5IHBlcmNlbnRhZ2UgLSB3aGljaCB3ZSB1c2UgZm9yIHRoZSBvdXRwdXQgLSBmcm9tIHggcGVyY2VudGFnZSAtIHdoaWNoIGlzIHRoZSBpbnB1dFxyXG4gICAgICAgIGxldCBwb3NzaWJsZVJlc3VsdHMgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gbGV0J3MgZmluZCBgdGAgd2hlcmU6XHJcbiAgICAgICAgLy8geCA9ICgxLXQpXjMgKiBYMCArIDMqKDEtdCleMiAqIHQgKiBYMSArIDMqKDEtdCkgKiB0XjIgKiBYMiArIHReMyAqIFgzXHJcbiAgICAgICAgLy8gdGh1cyBhIHNlcmllcyBvZiBmb3JtdWxhcyBjYW4gYmUgdXNlZCB0byBkZXJpdmUgYHRgIGJ5IHNvbHZpbmcgYSBjdWJpYyBlcXVhdGlvblxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gc29tZSBvZiB0aGlzIGh1cnRzIG15IGJyYWluLCBidXQgdGhlc2Ugd2VyZSBkZXJpdmVkIGZyb206XHJcbiAgICAgICAgLy8gICBzaW1wbGlmeSB0aGUgY3ViaWMgZXF1YXRpb246XHJcbiAgICAgICAgLy8gICAgIHReMyhYMCArIDNYMSAtIDNYMiArIFgzKSArIDMqdF4yKihYMCAtIDJYMSArIFgyKSArIDMgKiB0ICogKFgxIC0gWDApICsgWDAgLSB4XHJcbiAgICAgICAgLy8gICAgIHVzZSB0aGUgZm9ybXVsYXM6XHJcbiAgICAgICAgLy8gICAgICAgdCA9IHUgLSAoYiAvICgzYSkpXHJcbiAgICAgICAgLy8gICAgICAgdV4zICsgcHUgKyBxID0gMFxyXG4gICAgICAgIC8vICAgICAgIHAgPSAoM2FjIC0gYl4yKSAvIDNhXjJcclxuICAgICAgICAvLyAgICAgICBxID0gKDJiXjMgLSA5YWJjICsgMjdhXjJkKSAvIDI3YV4zXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAgICAgc2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DdWJpY19mdW5jdGlvblxyXG4gICAgICAgIGxldCBhID0gKHRoaXMucG9pbnRzWzBdICsgMyAqIHRoaXMucG9pbnRzWzJdIC0gMyAqIHRoaXMucG9pbnRzWzRdICsgdGhpcy5wb2ludHNbNl0pO1xyXG4gICAgICAgIGxldCBiID0gMyAqICh0aGlzLnBvaW50c1swXSAtIDIgKiB0aGlzLnBvaW50c1syXSArIHRoaXMucG9pbnRzWzRdKTtcclxuICAgICAgICBsZXQgYyA9IDMgKiAodGhpcy5wb2ludHNbMl0gLSB0aGlzLnBvaW50c1swXSk7XHJcbiAgICAgICAgbGV0IGQgPSAtcGVyY2VudGFnZTtcclxuICAgICAgICBsZXQgZGlzY3JpbWluYW50O1xyXG5cclxuICAgICAgICBpZiAoIWEpIHtcclxuICAgICAgICAgICAgLy8gcXVhZHJhdGljIGZvcm11bGFcclxuICAgICAgICAgICAgZGlzY3JpbWluYW50ID0gYyAqIGMgLSA0ICogYiAqIGQ7XHJcbiAgICAgICAgICAgIGlmIChkaXNjcmltaW5hbnQgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgcG9zc2libGVSZXN1bHRzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICgtYiArIE1hdGguc3FydChkaXNjcmltaW5hbnQpKSAvICgyICogYiksXHJcbiAgICAgICAgICAgICAgICAgICAgKC1iIC0gTWF0aC5zcXJ0KGRpc2NyaW1pbmFudCkpIC8gKDIgKiBiKVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY3ViaWNcclxuICAgICAgICAgICAgLy8gc3RhcnQgYnkgbm9ybWFsaXppbmcgdGhlIGVxdWF0aW9uXHJcbiAgICAgICAgICAgIGIgLz0gYTtcclxuICAgICAgICAgICAgYyAvPSBhO1xyXG4gICAgICAgICAgICBkIC89IGE7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwID0gKDMgKiBjIC0gYiAqIGIpIC8gMztcclxuICAgICAgICAgICAgY29uc3QgcSA9ICgyICogYiAqIGIgKiBiIC0gOSAqIGIgKiBjICsgMjcgKiBkKSAvIDI3O1xyXG5cclxuICAgICAgICAgICAgaWYgKHAgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIGN1YmUgcm9vdFxyXG4gICAgICAgICAgICAgICAgcG9zc2libGVSZXN1bHRzID0gW01hdGgucG93KC1xLCAxIC8gMyldO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHEgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBvc3NpYmxlUmVzdWx0cyA9IFtcclxuICAgICAgICAgICAgICAgICAgICBNYXRoLnNxcnQoLXApLFxyXG4gICAgICAgICAgICAgICAgICAgIC1NYXRoLnNxcnQocClcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXNjcmltaW5hbnQgPSBNYXRoLnBvdyhxIC8gMiwgMikgKyBNYXRoLnBvdyhwIC8gMywgMyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzY3JpbWluYW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zc2libGVSZXN1bHRzID0gW01hdGgucG93KHEgLyAyLCAxIC8gMykgLSBiIC8gM107XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpc2NyaW1pbmFudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVJlc3VsdHMgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgucG93KC0ocSAvIDIpICsgTWF0aC5zcXJ0KGRpc2NyaW1pbmFudCksIDEgLyAzKSAtIE1hdGgucG93KChxIC8gMikgKyBNYXRoLnNxcnQoZGlzY3JpbWluYW50KSwgMSAvIDMpIC0gYiAvIDNcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBNYXRoLnNxcnQoTWF0aC5wb3coLShwIC8gMyksIDMpKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaGkgPSBNYXRoLmFjb3MoLShxIC8gKDIgKiByKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSAyICogTWF0aC5wb3cociwgMSAvIDMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVJlc3VsdHMgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHMgKiBNYXRoLmNvcyhwaGkgLyAzKSAtIGIgLyAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzICogTWF0aC5jb3MoKHBoaSArIDIgKiBNYXRoLlBJKSAvIDMpIC0gYiAvIDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHMgKiBNYXRoLmNvcygocGhpICsgNCAqIE1hdGguUEkpIC8gMykgLSBiIC8gM1xyXG4gICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB0O1xyXG4gICAgICAgIGlmIChwb3NzaWJsZVJlc3VsdHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIHQgPSBwb3NzaWJsZVJlc3VsdHNbMF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBvc3NpYmxlUmVzdWx0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlUmVzdWx0c1tpXSA+PSAwICYmIHBvc3NpYmxlUmVzdWx0c1tpXSA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdCA9IHBvc3NpYmxlUmVzdWx0c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmluYWxseSB1c2UgdCB0byBnZXQgeVxyXG4gICAgICAgIGNvbnN0IHkgPSAoMSAtIHQpICogKDEgLSB0KSAqICgxIC0gdCkgKiB0aGlzLnBvaW50c1sxXSArIDMgKiAoMSAtIHQpICogKDEgLSB0KSAqIHQgKiB0aGlzLnBvaW50c1szXSArIDMgKiAoMSAtIHQpICogdCAqIHQgKiB0aGlzLnBvaW50c1s1XSArIHQgKiB0ICogdCAqIHRoaXMucG9pbnRzWzddO1xyXG5cclxuICAgICAgICByZXR1cm4gc3RhcnQgKyB5ICogY2hhbmdlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDdWJpY0JlemllcjsiLCIvKipcclxuICogRmlsbHMgYW4gZW50aXJlIGNhbnZhcyB3aXRoIGEgdGlsaW5nIG9mIGEgZ2l2ZW4gaW1hZ2UuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXHJcbiAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudH0gaW1hZ2VcclxuICogQHBhcmFtIHtudW1iZXJ9IGJhc2VYXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBiYXNlWVxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGlsZUNhbnZhc0ltYWdlIChjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBpbWFnZTogSFRNTEltYWdlRWxlbWVudCwgYmFzZVg6IG51bWJlciwgYmFzZVk6IG51bWJlcikge1xyXG4gICAgaWYgKCFpbWFnZS53aWR0aCB8fCAhaW1hZ2UuaGVpZ2h0KSB7XHJcbiAgICAgICAgLy8gaW1hZ2UgY2FuJ3QgYmUgZHJhd24gd2l0aG91dCBhIHNpemUuXHJcbiAgICAgICAgLy8gcHJvYmFibHkgbm90IGxvYWRlZFxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBnZXQgdGhlIGNvbnRleHRcclxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgIC8vIGZpbmQgdXBwZXItbGVmdCBzdGFydGluZyBwb3NpdGlvblxyXG4gICAgY29uc3Qgc3RhcnRYID0gYmFzZVggLSAoTWF0aC5jZWlsKGJhc2VYIC8gaW1hZ2Uud2lkdGgpICogaW1hZ2Uud2lkdGgpO1xyXG4gICAgY29uc3Qgc3RhcnRZID0gYmFzZVkgLSAoTWF0aC5jZWlsKGJhc2VZIC8gaW1hZ2UuaGVpZ2h0KSAqIGltYWdlLmhlaWdodCk7XHJcblxyXG4gICAgZm9yIChsZXQgY3VyWCA9IHN0YXJ0WDsgY3VyWCA8IGNhbnZhcy53aWR0aDsgY3VyWCArPSBpbWFnZS53aWR0aCkge1xyXG4gICAgICAgIGZvciAobGV0IGN1clkgPSBzdGFydFk7IGN1clkgPCBjYW52YXMuaGVpZ2h0OyBjdXJZICs9IGltYWdlLmhlaWdodCkge1xyXG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCBjdXJYLCBjdXJZKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXX0="}